<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIRæ»¤æ³¢å™¨è®¾è®¡ï¼šè„‰å†²å“åº”ä¸å˜æ³• vs åŒçº¿æ€§å˜æ¢æ³•</title>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        :root {
            --iim-color: #3498db;
            --iim-bg: #ebf5fb;
            --blt-color: #e74c3c;
            --blt-bg: #fdedec;
            --text-dark: #2c3e50;
            --border-light: #e0e0e0;
            --max-width: 1400px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f9;
            color: var(--text-dark);
            line-height: 1.7;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        h1 { 
            font-size: 2.5rem; 
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            margin-top: 10px;
        }

        .content-section {
            max-width: var(--max-width);
            margin: 30px auto;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.07);
        }

        h2 {
            border-bottom: 3px solid;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        h3 {
            font-size: 1.4rem;
            margin: 20px 0 15px 0;
            color: var(--text-dark);
        }
        
        .container {
            display: flex;
            flex-direction: row;
            max-width: var(--max-width);
            margin: 20px auto;
            gap: 20px;
            padding: 0 20px;
        }

        .column {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.07);
            border-top: 5px solid;
            overflow: hidden;
            padding: 20px;
        }

        .left-col { border-color: var(--iim-color); }
        .right-col { border-color: var(--blt-color); }

        .column-content {
            overflow-y: auto;
            padding-right: 15px;
            max-height: 2000px;
        }
        
        .column-content::-webkit-scrollbar { width: 8px; }
        .column-content::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .left-col .column-content::-webkit-scrollbar-thumb { background: var(--iim-color); border-radius: 10px; }
        .right-col .column-content::-webkit-scrollbar-thumb { background: var(--blt-color); border-radius: 10px; }

        .card {
            background: #fdfdfd;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-light);
            margin-bottom: 20px;
        }
        
        .card h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        .left-col .card h2 { color: var(--iim-color); border-color: var(--iim-color); }
        .right-col .card h2 { color: var(--blt-color); border-color: var(--blt-color); }
        
        /* æ–°å¢ï¼šæ­¥éª¤æ¡†æ ·å¼ */
        .step-box {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }
        .step-label {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 8px;
            display: block;
        }

        .concept-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            min-height: 200px;
        }

        .concept-diagram svg {
            max-width: 100%;
            height: auto;
        }

        .pros-cons-list { list-style: none; padding: 15px; border-radius: 8px; }
        .pros { background-color: #e8f5e9; border-left: 5px solid #4caf50; }
        .cons { background-color: #ffebee; border-left: 5px solid #f44336; }
        .pros-cons-list li { margin-bottom: 8px; }
        .pros-cons-list li::before { font-weight: bold; margin-right: 10px; }
        .pros li::before { content: 'âœ“'; color: #4caf50; }
        .cons li::before { content: 'âœ—'; color: #f44336; }
        .highlight { background: #fff9c4; padding: 2px 5px; border-radius: 4px; font-weight: bold; }

        .design-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            font-size: 0.95rem;
        }

        .design-table td {
            border: 1px solid #ddd;
            padding: 15px;
            vertical-align: top;
        }

        .design-table .step-header {
            background: #f8f9fa;
            font-weight: bold;
            font-size: 1.05rem;
            padding: 12px 15px;
            border-bottom: 2px solid #dee2e6;
        }

        .left-col .design-table .step-header {
            background: var(--iim-bg);
            color: var(--iim-color);
        }

        .right-col .design-table .step-header {
            background: var(--blt-bg);
            color: var(--blt-color);
        }

        .design-table .principle-col {
            width: 40%;
            background: #fafafa;
        }

        .design-table .example-col {
            width: 60%;
        }

        .note-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 12px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 0.95rem;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 0.95rem;
        }

        .result-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            font-weight: bold;
        }

        .mapping-container {
            width: 100%;
            height: 480px;
            background: #fafafa;
            border-radius: 8px;
            margin-top: 15px;
            border: 2px solid var(--border-light);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .mapping-container canvas {
            width: 98%;
            height: 98%;
        }

        .analogy-section {
            display: flex;
            gap: 20px;
            margin: 30px 0;
        }

        .analogy-card {
            flex: 1;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .analogy-card h3 {
            margin-top: 0;
            color: var(--text-dark);
            text-align: center;
        }

        .analogy-visual {
            width: 100%;
            height: 250px;
            background: white;
            border-radius: 8px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .interactive-control {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--border-light);
        }

        .slider-control {
            margin: 15px 0;
        }

        .slider-control label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .slider-control input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
            background: linear-gradient(to right, #3498db 0%, #e74c3c 100%);
        }

        .slider-control input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #fff;
            border: 3px solid #3498db;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .value-display {
            display: inline-block;
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--iim-color);
            font-family: monospace;
            min-width: 80px;
            text-align: center;
        }

        .combined-canvas-container {
            width: 100%;
            height: 450px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
            position: relative;
        }

        .combined-canvas-container canvas {
            width: 100%;
            height: 100%;
        }

        .freq-info-panel {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }

        .freq-info-card {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
            border: 3px solid;
            background: white;
        }

        .freq-info-card.iim {
            border-color: var(--iim-color);
        }

        .freq-info-card.blt {
            border-color: var(--blt-color);
        }

        .freq-info-card h4 {
            margin: 0 0 8px 0;
            text-align: center;
            font-size: 1.2rem;
        }

        .freq-value {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
            font-family: monospace;
        }

        .freq-info-card p {
            font-size: 1rem;
        }

        .explanation-box {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            line-height: 1.8;
        }

        .explanation-box h4 {
            color: #495057;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .explanation-box ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .explanation-box li {
            margin-bottom: 8px;
        }

        .intro-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border: 2px solid #667eea;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            line-height: 1.9;
            font-size: 1.05rem;
        }

        .intro-box h3 {
            color: #667eea;
            margin-top: 0;
            margin-bottom: 15px;
        }

        /* è§†é¢‘æ’­æ”¾å™¨æ ·å¼ */
        .video-section {
            margin-top: 40px;
        }

        .video-container {
            display: flex;
            gap: 20px;
            margin: 25px 0;
        }

        .video-player {
            flex: 1;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .video-player h4 {
            text-align: center;
            margin-bottom: 10px;
            color: var(--text-dark);
            font-size: 1.1rem;
        }

        .video-player video {
            width: 100%;
            border-radius: 6px;
            background: #000;
        }

        .video-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }

        .video-controls button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background: #667eea;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .video-controls button:hover {
            background: #5568d3;
        }

        .video-controls button:active {
            transform: scale(0.95);
        }

        .aliasing-explanation {
            background: #fff9e6;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .aliasing-explanation h4 {
            color: #f57c00;
            margin-bottom: 12px;
        }

        @media (max-width: 1200px) {
            .container { flex-direction: column; }
            .analogy-section { flex-direction: column; }
            .freq-info-panel { flex-direction: column; }
            .video-container { flex-direction: column; }
        }
    </style>
</head>
<body>

<header>
    <h1>IIR æ»¤æ³¢å™¨è®¾è®¡æ–¹æ³•å¯¹æ¯”</h1>
    <p class="subtitle">è„‰å†²å“åº”ä¸å˜æ³• vs. åŒçº¿æ€§å˜æ¢æ³•</p>
    <p class="subtitle" style="font-size: 1rem; margin-top: 5px; opacity: 0.9;">ç›´è§‚ç†è§£ Â· æ·±å…¥å¯¹æ¯” Â· äº¤äº’ä½“éªŒ</p>
</header>

<!-- å¼€å¤´ä»‹ç» -->
<div class="content-section">
    <div class="intro-box">
        <h3>ğŸ’¡ ä¸ºä»€ä¹ˆè¦ä»æ¨¡æ‹Ÿæ»¤æ³¢å™¨å‡ºå‘ï¼Ÿ</h3>
        <p>
            <strong>æ•°å­—æ»¤æ³¢å™¨çš„è®¾è®¡å…¶å®æ˜¯"ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š"ï¼</strong>åœ¨æ•°å­—ä¿¡å·å¤„ç†å‡ºç°ä¹‹å‰ï¼Œæ¨¡æ‹Ÿæ»¤æ³¢å™¨ï¼ˆä½¿ç”¨ç”µé˜»ã€ç”µå®¹ã€ç”µæ„Ÿç­‰å…ƒä»¶ï¼‰å·²ç»å‘å±•å¾—éå¸¸æˆç†Ÿï¼Œæœ‰å¾ˆå¤šç»å…¸çš„è®¾è®¡æ–¹æ³•å’Œæˆç†Ÿçš„ç†è®ºåŸºç¡€ï¼Œæ¯”å¦‚å·´ç‰¹æ²ƒæ–¯æ»¤æ³¢å™¨ã€åˆ‡æ¯”é›ªå¤«æ»¤æ³¢å™¨ç­‰ã€‚
        </p>
        <p style="margin-top: 12px;">
            <strong>IIRæ•°å­—æ»¤æ³¢å™¨è®¾è®¡çš„æ ¸å¿ƒæ€æƒ³ï¼š</strong>æ—¢ç„¶æ¨¡æ‹Ÿæ»¤æ³¢å™¨å·²ç»è®¾è®¡å¾—å¾ˆå¥½ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥"å€Ÿç”¨"å®ƒä»¬çš„ä¼˜ç§€ç‰¹æ€§å‘¢ï¼Ÿæˆ‘ä»¬è¦åšçš„å°±æ˜¯æ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼ŒæŠŠæ¨¡æ‹Ÿæ»¤æ³¢å™¨çš„è®¾è®¡"è½¬æ¢"æˆæ•°å­—æ»¤æ³¢å™¨ã€‚è¿™å°±åƒæŠŠä¸€å¼ ä¼˜ç§€çš„çº¸è´¨åœ°å›¾ï¼ˆæ¨¡æ‹Ÿï¼‰è½¬åŒ–æˆç”µå­åœ°å›¾ï¼ˆæ•°å­—ï¼‰â€”â€”å…³é”®æ˜¯æ‰¾åˆ°å¥½çš„è½¬æ¢æ–¹æ³•ï¼
        </p>
        <p style="margin-top: 12px;">
            <strong>æœ¬æ–‡å¯¹æ¯”çš„ä¸¤ç§æ–¹æ³•ï¼š</strong>
        </p>
        <ul style="margin-left: 25px; margin-top: 8px;">
            <li><span style="color: var(--iim-color); font-weight: bold;">è„‰å†²å“åº”ä¸å˜æ³•ï¼ˆIIMï¼‰</span>ï¼šé€šè¿‡å¯¹æ¨¡æ‹Ÿæ»¤æ³¢å™¨çš„è„‰å†²å“åº”è¿›è¡Œé‡‡æ ·æ¥å¾—åˆ°æ•°å­—æ»¤æ³¢å™¨ï¼Œå°±åƒç”¨ç›¸æœºå¯¹è¿ç»­è¿åŠ¨çš„ç‰©ä½“è¿›è¡Œè¿æ‹</li>
            <li><span style="color: var(--blt-color); font-weight: bold;">åŒçº¿æ€§å˜æ¢æ³•ï¼ˆBLTï¼‰</span>ï¼šé€šè¿‡æ•°å­¦å˜æ¢å°†æ¨¡æ‹Ÿé¢‘ç‡æ˜ å°„åˆ°æ•°å­—é¢‘ç‡ï¼Œå°±åƒç”¨ç‰¹æ®ŠæŠ•å½±æŠŠçƒé¢åœ°å›¾è½¬æ¢æˆå¹³é¢åœ°å›¾</li>
        </ul>
    </div>
</div>

<!-- ç”Ÿæ´»åŒ–ç±»æ¯” -->
<div class="content-section">
    <h2 style="text-align: center; border: none;">ğŸ¯ ç”¨ç”Ÿæ´»åœºæ™¯ç†è§£ä¸¤ç§æ–¹æ³•</h2>
    <div class="analogy-section">
        <div class="analogy-card">
            <h3 style="color: var(--iim-color);">ğŸ§µ è„‰å†²å“åº”ä¸å˜æ³• = æŠ˜å é•¿å¸ƒ</h3>
            <div class="analogy-visual">
                <svg id="fabricAnalogy" viewBox="0 0 400 250" style="width: 100%; height: 100%;"></svg>
            </div>
            <p style="text-align: center; font-size: 1.05rem; line-height: 1.8;">
                <strong>æƒ³è±¡ï¼š</strong>ä¸€æ¡å¾ˆé•¿çš„å½©è‰²å¸ƒæ–™ï¼ˆæ¨¡æ‹Ÿä¿¡å·ï¼‰éœ€è¦è£…è¿›ä¸€ä¸ªå›ºå®šå¤§å°çš„ç›’å­ï¼ˆæ•°å­—ç³»ç»Ÿï¼‰ã€‚<br>
                <strong>åšæ³•ï¼š</strong>å°†å¸ƒæ–™æŠ˜å å¤šæ¬¡ï¼Œä½¿å…¶é€‚åº”ç›’å­å¤§å°ã€‚<br>
                <strong>ç»“æœï¼š</strong>ä¸åŒä½ç½®çš„å›¾æ¡ˆä¼š<span class="highlight">å åŠ åœ¨ä¸€èµ·</span>ï¼ˆæ··å ï¼‰ï¼ŒåŸå§‹å›¾æ¡ˆéƒ¨åˆ†ä¸¢å¤±ã€‚
            </p>
        </div>

        <div class="analogy-card">
            <h3 style="color: var(--blt-color);">ğŸ—ºï¸ åŒçº¿æ€§å˜æ¢æ³• = åœ°å›¾æŠ•å½±</h3>
            <div class="analogy-visual">
                <svg id="mapAnalogy" viewBox="0 0 400 250" style="width: 100%; height: 100%;"></svg>
            </div>
            <p style="text-align: center; font-size: 1.05rem; line-height: 1.8;">
                <strong>æƒ³è±¡ï¼š</strong>å°†çƒå½¢çš„åœ°çƒï¼ˆæ— é™å¤§çš„æ¨¡æ‹Ÿé¢‘ç‡ï¼‰æŠ•å½±åˆ°å¹³é¢åœ°å›¾ä¸Šï¼ˆæœ‰é™çš„æ•°å­—é¢‘ç‡ï¼‰ã€‚<br>
                <strong>åšæ³•ï¼š</strong>ä½¿ç”¨ç‰¹æ®Šçš„æŠ•å½±æ–¹æ³•ï¼ˆåŒçº¿æ€§å˜æ¢ï¼‰ï¼Œå°†æ•´ä¸ªçƒé¢å‹ç¼©æ˜ å°„åˆ°å¹³é¢ã€‚<br>
                <strong>ç»“æœï¼š</strong>è™½ç„¶å½¢çŠ¶<span class="highlight">æ‰­æ›²å˜å½¢</span>ï¼ˆé¢‘ç‡ç•¸å˜ï¼‰ï¼Œä½†æ¯ä¸ªç‚¹éƒ½æœ‰<span class="highlight">å”¯ä¸€å¯¹åº”</span>ï¼Œæ²¡æœ‰é‡å ã€‚
            </p>
        </div>
    </div>
</div>

<div class="container">
    <!-- å·¦ä¾§ï¼šè„‰å†²å“åº”ä¸å˜æ³• -->
    <div class="column left-col">
        <div class="column-content">
            <div class="card">
                <h2>è„‰å†²å“åº”ä¸å˜æ³• (IIM)</h2>
            </div>
            
            <!-- æ–°å¢ï¼šIIM è¯¦ç»†æ­¥éª¤å†…å®¹ -->
            <div class="card">
                <h3>ğŸ“ æ ¸å¿ƒåŸç†ä¸æ­¥éª¤</h3>
                <p style="margin-bottom: 20px;">IIM <strong>ä¸æ˜¯ç®€å•çš„å˜é‡ä»£æ¢</strong>ï¼Œè€Œæ˜¯åŸºäºéƒ¨åˆ†åˆ†å¼å±•å¼€çš„å˜æ¢ã€‚</p>
                
                <div class="step-box">
                    <span class="step-label" style="color: var(--iim-color)">Step 1</span>
                    <div style="font-weight: bold; margin-bottom: 8px;">å¯¹ $H_a(s)$ è¿›è¡Œéƒ¨åˆ†åˆ†å¼å±•å¼€ï¼š</div>
                    $$H_a(s) = \sum_{k=1}^{N} \frac{A_k}{s - p_k}$$
                    <p style="font-size: 0.9em; color: #666; margin-top: 5px;">å…¶ä¸­ $p_k$ æ˜¯å•æç‚¹</p>
                </div>

                <div class="step-box">
                    <span class="step-label" style="color: var(--iim-color)">Step 2</span>
                    <div style="font-weight: bold; margin-bottom: 8px;">åˆ©ç”¨å˜æ¢å¯¹è¿›è¡Œæ˜ å°„ï¼š</div>
                    $$\frac{1}{s - p_k} \xrightarrow{IIM} \frac{1}{1 - e^{p_k T}z^{-1}}$$
                    <p style="font-size: 0.9em; color: #666; margin-top: 5px;">*æ³¨: æœ‰æ—¶åˆ†å­ä¼šä¹˜ä»¥ $T$ ä¿æŒå¢ç›Šä¸€è‡´</p>
                </div>

                <div class="step-box">
                    <span class="step-label" style="color: var(--iim-color)">Step 3</span>
                    <div style="font-weight: bold; margin-bottom: 8px;">å¾—åˆ°æœ€ç»ˆ H(z)ï¼š</div>
                    $$H(z) = \sum_{k=1}^{N} \frac{A_k}{1 - e^{p_k T}z^{-1}}$$
                </div>
            </div>

            <div class="card">
                <h3>1. Så¹³é¢åˆ°Zå¹³é¢çš„æ˜ å°„å…³ç³»ï¼ˆåŠ¨ç”»æ¼”ç¤ºï¼‰</h3>
                <div class="mapping-container">
                    <canvas id="iimMappingCanvas"></canvas>
                </div>
                
                <div class="explanation-box">
                    <h4>ğŸ” æ˜ å°„åŸç†è§£æï¼šä¸ºä»€ä¹ˆåªæ˜¾ç¤º [-Ï€/T, Ï€/T] åˆ°å•ä½åœ†ï¼Ÿ</h4>
                    <p><strong>å…³é”®ç†è§£ï¼š</strong></p>
                    <ul>
                        <li><strong>æ—¶åŸŸé‡‡æ ·å¯¼è‡´é¢‘åŸŸå‘¨æœŸåŒ–ï¼š</strong>ç”±äºæ—¶åŸŸé‡‡æ · $h[n] = h(nT)$ï¼Œæ•°å­—é¢‘ç‡å“åº” $H(e^{j\omega})$ æ˜¯æ¨¡æ‹Ÿé¢‘ç‡å“åº” $H_a(j\Omega)$ çš„å‘¨æœŸå»¶æ‹“ï¼Œå‘¨æœŸä¸º $2\pi/T$</li>
                        <li><strong>ä¸»é¢‘æ®µ [-Ï€/T, Ï€/T]ï¼š</strong>è¿™æ˜¯æ¨¡æ‹Ÿé¢‘ç‡çš„"åŸºæœ¬å‘¨æœŸ"ï¼Œå®Œæ•´æ˜ å°„åˆ°ä¸€åœˆå•ä½åœ†ï¼ˆ$\omega \in [-\pi, \pi]$ï¼‰</li>
                        <li><strong>å…¶ä»–é¢‘æ®µçš„å‘½è¿ï¼š</strong>ç”±äºå‘¨æœŸæ€§ï¼Œ$[\pi/T, 3\pi/T]$ã€$[-3\pi/T, -\pi/T]$ ç­‰æ‰€æœ‰é¢‘æ®µéƒ½ä¼š<span class="highlight">é‡å¤æ˜ å°„</span>åˆ°åŒä¸€ä¸ªå•ä½åœ†ä¸Š</li>
                        <li><strong>ä¸åŸç†çš„å…³ç³»ï¼š</strong>æ˜ å°„å…¬å¼ $z = e^{sT}$ åœ¨è™šè½´ä¸Šå˜ä¸º $z = e^{j\Omega T}$ï¼Œè¿™æ˜¯ä¸€ä¸ªå‘¨æœŸå‡½æ•°ï¼Œå‘¨æœŸä¸º $2\pi/T$</li>
                    </ul>
                </div>
                
                <div class="warning-box" style="margin-top: 15px;">
                    âš ï¸ <strong>æ··å äº§ç”Ÿçš„æ ¹æœ¬åŸå› ï¼š</strong>
                    <ul style="margin-left: 20px; margin-top: 8px;">
                        <li>Så¹³é¢è™šè½´ä¸Šç›¸è· $2\pi/T$ çš„æ‰€æœ‰ç‚¹ï¼ˆå¦‚ $j\Omega$ã€$j(\Omega + 2\pi/T)$ã€$j(\Omega - 2\pi/T)$ï¼‰éƒ½æ˜ å°„åˆ°Zå¹³é¢çš„<span class="highlight">åŒä¸€ç‚¹</span></li>
                        <li>è¿™å°±åƒæŠŠæ— é™é•¿çš„çº¸æ¡æŒ‰å›ºå®šé•¿åº¦åå¤æŠ˜å ï¼Œä¸åŒæ®µä¼šå åœ¨ä¸€èµ·</li>
                        <li>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼šå¤šä¸ªå½©è‰²æ¡å¸¦ï¼ˆä»£è¡¨ä¸åŒé¢‘æ®µï¼‰çš„ç®­å¤´éƒ½æŒ‡å‘åŒä¸€ä¸ªå•ä½åœ†ï¼Œäº§ç”Ÿ"å¤šå¯¹ä¸€"æ˜ å°„</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h3>2. è®¾è®¡è¿‡ç¨‹ä¸è¯¦ç»†ç¤ºä¾‹</h3>
                <p style="margin-bottom: 15px;"><strong>ä¾‹é¢˜ï¼š</strong>å·²çŸ¥ä¸€é˜¶æ¨¡æ‹Ÿä½é€šæ»¤æ³¢å™¨ $H_a(s) = \frac{2}{s+2}$ï¼Œé‡‡æ ·å‘¨æœŸ $T=1$ ç§’ï¼Œä½¿ç”¨IIMæ–¹æ³•è®¾è®¡æ•°å­—æ»¤æ³¢å™¨ã€‚</p>
                
                <table class="design-table">
                    <tr>
                        <td colspan="2" class="step-header">æ­¥éª¤1ï¼šéƒ¨åˆ†åˆ†å¼å±•å¼€ H<sub>a</sub>(s)</td>
                    </tr>
                    <tr>
                        <td class="principle-col">
                            <p><strong>ç†è®ºï¼š</strong>å°†ç³»ç»Ÿå‡½æ•°å±•å¼€ä¸ºç®€å•æç‚¹å½¢å¼</p>
                            <p>$$H_a(s) = \sum_{k=1}^{N} \frac{A_k}{s - p_k}$$</p>
                            <p>å…¶ä¸­ $p_k$ æ˜¯æç‚¹ï¼Œ$A_k$ æ˜¯ç•™æ•°</p>
                        </td>
                        <td class="example-col">
                            <p><strong>æœ¬ä¾‹ï¼š</strong>$H_a(s) = \frac{2}{s+2} = \frac{2}{s-(-2)}$ å·²æ˜¯æ ‡å‡†å½¢å¼</p>
                            <p>â€¢ æç‚¹ï¼š$p_1 = -2$ï¼ˆä½äºå·¦åŠå¹³é¢ï¼Œç¨³å®šï¼‰</p>
                            <p>â€¢ ç•™æ•°ï¼š$A_1 = 2$</p>
                            <p>â€¢ ç³»ç»Ÿé˜¶æ•°ï¼š$N = 1$</p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" class="step-header">æ­¥éª¤2ï¼šåº”ç”¨IIMå˜æ¢å…¬å¼</td>
                    </tr>
                    <tr>
                        <td class="principle-col">
                            <p><strong>å˜æ¢è§„åˆ™ï¼š</strong></p>
                            <p>$$\frac{A_k}{s-p_k} \rightarrow \frac{A_k T}{1-e^{p_k T}z^{-1}}$$</p>
                            <p><strong>æ¨å¯¼è¿‡ç¨‹ï¼š</strong></p>
                            <p>1) é€†å˜æ¢ï¼š$h(t) = A_k e^{p_k t}$</p>
                            <p>2) é‡‡æ ·ï¼š$h[n] = A_k e^{p_k nT}$</p>
                            <p>3) zå˜æ¢ï¼šæ±‚å’Œå¾—ä¸Šå¼</p>
                        </td>
                        <td class="example-col">
                            <p><strong>ä»£å…¥å‚æ•°ï¼š</strong>$A_1=2$, $p_1=-2$, $T=1$</p>
                            <p>$$H(z) = \frac{2 \cdot 1}{1 - e^{-2 \cdot 1}z^{-1}}$$</p>
                            <p>$$= \frac{2}{1 - e^{-2}z^{-1}}$$</p>
                            <div class="note-box">
                                è®¡ç®—è¿‡ç¨‹è¯¦è§£ï¼š<br>
                                â€¢ åˆ†å­ï¼š$A_1 T = 2 \times 1 = 2$<br>
                                â€¢ åˆ†æ¯ä¸­çš„æŒ‡æ•°ï¼š$e^{p_1 T} = e^{(-2) \times 1} = e^{-2}$
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" class="step-header">æ­¥éª¤3ï¼šæ•°å€¼è®¡ç®—ä¸éªŒè¯</td>
                    </tr>
                    <tr>
                        <td class="principle-col">
                            <p><strong>æ•°å€¼è®¡ç®—ï¼š</strong>è®¡ç®—æŒ‡æ•°é¡¹</p>
                            <p><strong>éªŒè¯è¦ç‚¹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>æç‚¹ä½ç½®ï¼ˆç¨³å®šæ€§ï¼‰</li>
                                <li>é›¶é¢‘å¢ç›Š</li>
                            </ul>
                        </td>
                        <td class="example-col">
                            <p>$e^{-2} \approx 0.1353352832...$</p>
                            <p>å–4ä½æœ‰æ•ˆæ•°å­—ï¼š$e^{-2} \approx 0.1353$</p>
                            <div class="result-box">
                                $$H(z) = \frac{2}{1 - 0.1353z^{-1}}$$
                            </div>
                            <p><strong>ç¨³å®šæ€§ï¼š</strong>æç‚¹ $z_1 = 0.1353$ï¼Œ$|z_1| < 1$ âœ“</p>
                            <p><strong>é›¶é¢‘å¢ç›Šï¼š</strong></p>
                            <p>â€¢ æ¨¡æ‹Ÿï¼š$H_a(0) = 2/2 = 1$</p>
                            <p>â€¢ æ•°å­—ï¼š$H(1) = 2/(1-0.1353) \approx 2.31$</p>
                            <div class="warning-box">
                                âš ï¸ é›¶é¢‘å¢ç›Šä¸åŒ¹é…ï¼IIMä¿æŒè„‰å†²å“åº”é‡‡æ ·ç‚¹ä¸€è‡´ï¼Œä½†ä¸ä¿è¯é¢‘ç‡å“åº”å®Œå…¨ç›¸åŒã€‚
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            
            <div class="card">
                <h3>3. ä¼˜ç¼ºç‚¹æ€»ç»“</h3>
                <ul class="pros-cons-list pros">
                    <li>æ—¶åŸŸè„‰å†²å“åº”åœ¨é‡‡æ ·ç‚¹ä¸Š<span class="highlight">å®Œå…¨åŒ¹é…</span></li>
                    <li>é¢‘ç‡æ˜ å°„ä¸º<span class="highlight">çº¿æ€§å…³ç³»</span>ï¼šÏ‰ = Î©T</li>
                    <li>ç‰©ç†æ„ä¹‰æ¸…æ™°ï¼Œæ˜“äºç†è§£</li>
                </ul>
                <ul class="pros-cons-list cons" style="margin-top:15px;">
                    <li>å›ºæœ‰çš„<span class="highlight">é¢‘ç‡æ··å </span>é—®é¢˜</li>
                    <li>ä»…é€‚ç”¨äº<span class="highlight">å¸¦é™æ»¤æ³¢å™¨</span>ï¼ˆä½é€šã€å¸¦é€šï¼‰</li>
                    <li>ä¸é€‚åˆé«˜é€šå’Œå¸¦é˜»æ»¤æ³¢å™¨</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- å³ä¾§ï¼šåŒçº¿æ€§å˜æ¢æ³• -->
    <div class="column right-col">
        <div class="column-content">
            <div class="card">
                 <h2>åŒçº¿æ€§å˜æ¢æ³• (BLT)</h2>
            </div>
            
            <!-- æ–°å¢ï¼šBLT è¯¦ç»†æ­¥éª¤å†…å®¹ -->
            <div class="card">
                <h3>ğŸ“ æ ¸å¿ƒåŸç†ä¸æ­¥éª¤</h3>
                <p style="margin-bottom: 20px;">BLT æ˜¯<strong>çº¯ç²¹çš„ä»£æ•°ä»£æ¢</strong>ï¼ŒåŸºäºæ¢¯å½¢ç§¯åˆ†å…¬å¼ã€‚</p>
                
                <div class="step-box">
                    <span class="step-label" style="color: var(--blt-color)">Step 1</span>
                    <div style="font-weight: bold; margin-bottom: 8px;">å†™å‡ºå˜æ¢å…¬å¼ï¼š</div>
                    $$s = \frac{2}{T}\frac{1 - z^{-1}}{1 + z^{-1}}$$
                    <p style="font-size: 0.9em; color: #666; margin-top: 5px;">è¿™æ˜¯ $z = \frac{1+sT/2}{1-sT/2}$ çš„é€†å˜æ¢</p>
                </div>

                <div class="step-box">
                    <span class="step-label" style="color: var(--blt-color)">Step 2</span>
                    <div style="font-weight: bold; margin-bottom: 8px;">é¢‘ç‡é¢„ç•¸å˜ (Pre-warping)ï¼š</div>
                    <div style="margin-bottom: 5px;">ç”±äºé¢‘ç‡æ˜ å°„æ˜¯éçº¿æ€§çš„ï¼Œéœ€ä¿®æ­£æ¨¡æ‹Ÿæˆªæ­¢é¢‘ç‡ $\Omega$ï¼š</div>
                    $$\Omega_{pre} = \frac{2}{T}\tan\left(\frac{\omega_c}{2}\right)$$
                </div>

                <div class="step-box">
                    <span class="step-label" style="color: var(--blt-color)">Step 3</span>
                    <div style="font-weight: bold; margin-bottom: 8px;">ç›´æ¥ä»£å…¥æ›¿æ¢ï¼š</div>
                    $$H(z) = H_a(s)\Big|_{s=\frac{2}{T}\frac{1-z^{-1}}{1+z^{-1}}}$$
                </div>
            </div>

            <div class="card">
                <h3>1. Så¹³é¢åˆ°Zå¹³é¢çš„æ˜ å°„å…³ç³»ï¼ˆåŠ¨ç”»æ¼”ç¤ºï¼‰</h3>
                <div class="mapping-container">
                    <canvas id="bltMappingCanvas"></canvas>
                </div>
                
                <div class="explanation-box">
                    <h4>ğŸ” æ˜ å°„åŸç†è§£æï¼šä¸ºä»€ä¹ˆæ˜¯ä¸‰æ­¥è¿‡ç¨‹ï¼Ÿ</h4>
                    <p><strong>å®Œæ•´çš„æ˜ å°„é“¾æ¡ï¼š</strong></p>
                    <ul>
                        <li><strong>ç¬¬ä¸€æ­¥ï¼ˆSâ†’Sâ‚ï¼‰ï¼šé¢‘ç‡é¢„ç•¸å˜</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>å°†Så¹³é¢æ•´ä¸ªè™šè½´ï¼ˆ$j\Omega, -\infty < \Omega < \infty$ï¼‰é€šè¿‡åæ­£åˆ‡å‡½æ•°å‹ç¼©åˆ°Sâ‚å¹³é¢çš„æœ‰é™èŒƒå›´ $[-\pi/T, \pi/T]$</li>
                                <li>æ˜ å°„å…³ç³»ï¼š$\Omega_1 = \frac{2}{T}\tan(\frac{\Omega T}{2})$ï¼ˆåå‘é¢„ç•¸å˜å…¬å¼ï¼‰</li>
                                <li>è¿™ä¸€æ­¥æ˜¯<span class="highlight">éçº¿æ€§å‹ç¼©</span>ï¼Œå°†æ— é™é¢‘ç‡èŒƒå›´æ˜ å°„åˆ°æœ‰é™èŒƒå›´</li>
                            </ul>
                        </li>
                        <li><strong>ç¬¬äºŒæ­¥ï¼ˆSâ‚â†’Zï¼‰ï¼šæ ‡å‡†çº¿æ€§æ˜ å°„</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Sâ‚å¹³é¢çš„ $[-\pi/T, \pi/T]$ åŒºé—´çº¿æ€§æ˜ å°„åˆ°Zå¹³é¢å•ä½åœ† $[-\pi, \pi]$</li>
                                <li>è¿™ä¸€æ­¥ç±»ä¼¼IIMï¼Œä½†å› ä¸ºSâ‚å·²ç»æ˜¯æœ‰é™èŒƒå›´ï¼Œæ‰€ä»¥<span class="highlight">ä¸ä¼šæœ‰æ··å </span></li>
                            </ul>
                        </li>
                        <li><strong>ä¸åŸç†çš„å…³ç³»ï¼š</strong>BLTçš„ä»£æ•°å…¬å¼ $s = \frac{2}{T}\frac{1-z^{-1}}{1+z^{-1}}$ å®é™…ä¸Šéšå«äº†è¿™ä¸¤æ­¥å˜æ¢ï¼Œé€šè¿‡å·§å¦™çš„æ•°å­¦å˜æ¢ä¸€æ¬¡æ€§å®Œæˆ</li>
                    </ul>
                </div>
                
                <div class="note-box" style="margin-top: 15px;">
                    âœ“ <strong>æ— æ··å çš„ç§˜å¯†ï¼š</strong>
                    <ul style="margin-left: 20px; margin-top: 8px;">
                        <li>BLTå…ˆæŠŠæ•´ä¸ªSå¹³é¢è™šè½´ï¼ˆæ— é™é•¿ï¼‰<span class="highlight">å‹ç¼©</span>åˆ°Sâ‚å¹³é¢çš„æœ‰é™åŒºé—´ $[-\pi/T, \pi/T]$</li>
                        <li>ç„¶åè¿™ä¸ªæœ‰é™åŒºé—´<span class="highlight">ä¸€å¯¹ä¸€</span>æ˜ å°„åˆ°Zå¹³é¢å•ä½åœ†ï¼Œæ¯ä¸ªé¢‘ç‡éƒ½æœ‰å”¯ä¸€å¯¹åº”</li>
                        <li>ä»£ä»·æ˜¯é¢‘ç‡<span class="highlight">éçº¿æ€§ç•¸å˜</span>ï¼šé«˜é¢‘è¢«ä¸¥é‡å‹ç¼©ï¼ˆåœ°å›¾æŠ•å½±çš„"æåœ°å˜å½¢"ï¼‰</li>
                        <li>ä»å›¾ä¸­çœ‹ï¼šSå¹³é¢æ•´ä¸ªå·¦åŠå¹³é¢ï¼ˆé˜´å½±åŒºåŸŸï¼‰â†’ ä¸­é—´å‹ç¼©çš„Sâ‚å¹³é¢ â†’ Zå¹³é¢å•ä½åœ†å†…ï¼Œæ˜¯å®Œæ•´çš„"ä¸€å¯¹ä¸€"æ˜ å°„</li>
                    </ul>
                </div>
            </div>

             <div class="card">
                <h3>2. è®¾è®¡è¿‡ç¨‹ä¸è¯¦ç»†ç¤ºä¾‹</h3>
                <p style="margin-bottom: 15px;"><strong>ä¾‹é¢˜ï¼š</strong>åŒæ ·ä» $H_a(s) = \frac{2}{s+2}$ï¼Œ$T=1$ å‡ºå‘ï¼Œä½¿ç”¨BLTæ–¹æ³•è®¾è®¡ã€‚</p>
                
                <table class="design-table">
                    <tr>
                        <td colspan="2" class="step-header">æ­¥éª¤1ï¼šç¡®å®šBLTå˜æ¢å…¬å¼</td>
                    </tr>
                    <tr>
                        <td class="principle-col">
                            <p><strong>æ ‡å‡†å½¢å¼ï¼š</strong></p>
                            <p>$$s = \frac{2}{T}\frac{1-z^{-1}}{1+z^{-1}}$$</p>
                            <p>æˆ–ï¼š$$s = \frac{2}{T}\frac{z-1}{z+1}$$</p>
                            <p><strong>æ¥æºï¼š</strong>æ¢¯å½¢ç§¯åˆ†æ³•</p>
                        </td>
                        <td class="example-col">
                            <p><strong>ä»£å…¥ T=1ï¼š</strong></p>
                            <p>$$s = 2\frac{1-z^{-1}}{1+z^{-1}}$$</p>
                            <div class="note-box">
                                ç³»æ•° 2/T ä¿è¯äº†så¹³é¢è™šè½´æ˜ å°„åˆ°zå¹³é¢å•ä½åœ†
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" class="step-header">æ­¥éª¤2ï¼šä»£å…¥å¹¶å±•å¼€</td>
                    </tr>
                    <tr>
                        <td class="principle-col">
                            <p><strong>æ“ä½œï¼š</strong>å°†sçš„è¡¨è¾¾å¼ä»£å…¥ $H_a(s)$</p>
                            <p>$$H(z) = H_a(s)\Big|_{s=\frac{2}{T}\frac{1-z^{-1}}{1+z^{-1}}}$$</p>
                        </td>
                        <td class="example-col">
                            <p>$$H(z) = \frac{2}{2\frac{1-z^{-1}}{1+z^{-1}}+2}$$</p>
                            <p><strong>åˆ†æ¯å±•å¼€ï¼š</strong></p>
                            <p>$$= 2\frac{1-z^{-1}}{1+z^{-1}}+2$$</p>
                            <p>$$= 2\left(\frac{1-z^{-1}+(1+z^{-1})}{1+z^{-1}}\right)$$</p>
                            <p>$$= 2\cdot\frac{2}{1+z^{-1}} = \frac{4}{1+z^{-1}}$$</p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" class="step-header">æ­¥éª¤3ï¼šåŒ–ç®€ä¸ºæ ‡å‡†å½¢å¼</td>
                    </tr>
                    <tr>
                        <td class="principle-col">
                            <p><strong>ç›®æ ‡ï¼š</strong>åŒ–ä¸º</p>
                            <p>$$H(z) = \frac{b_0 + b_1z^{-1} + ...}{1 + a_1z^{-1} + ...}$$</p>
                        </td>
                        <td class="example-col">
                            <p>$$H(z) = \frac{2}{\frac{4}{1+z^{-1}}} = \frac{2(1+z^{-1})}{4}$$</p>
                            <p>$$= \frac{1+z^{-1}}{2}$$</p>
                            <div class="result-box">
                                $$H(z) = 0.5(1 + z^{-1})$$
                            </div>
                            <p><strong>åˆ†æï¼š</strong></p>
                            <p>â€¢ é›¶ç‚¹ï¼š$z = -1$ï¼ˆå•ä½åœ†ä¸Šï¼‰</p>
                            <p>â€¢ æç‚¹ï¼šæ— ï¼ˆFIRæ»¤æ³¢å™¨ï¼ï¼‰</p>
                            <p>â€¢ é›¶é¢‘å¢ç›Šï¼š$H(1) = 0.5 \times 2 = 1$ âœ“</p>
                            <div class="note-box">
                                ğŸ’¡ æœ‰è¶£ç°è±¡ï¼šIIRæ¨¡æ‹Ÿæ»¤æ³¢å™¨å˜æˆäº†FIRæ•°å­—æ»¤æ³¢å™¨ï¼è¿™æ˜¯å› ä¸ºåªæœ‰ä¸€ä¸ªæç‚¹ä¸”Tè¾ƒå¤§ã€‚
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="card">
                <h3>3. ä¼˜ç¼ºç‚¹æ€»ç»“</h3>
                <ul class="pros-cons-list pros">
                    <li><span class="highlight">å®Œå…¨æ¶ˆé™¤æ··å </span>ï¼ˆä¸€å¯¹ä¸€æ˜ å°„ï¼‰</li>
                    <li>é€‚ç”¨äº<span class="highlight">æ‰€æœ‰æ»¤æ³¢å™¨ç±»å‹</span></li>
                    <li>ç¨³å®šæ€§ä¿æŒï¼ˆç¨³å®šâ†’ç¨³å®šï¼‰</li>
                    <li>è®¾è®¡ç®€å•ï¼ˆä»£æ•°æ›¿æ¢ï¼‰</li>
                </ul>
                 <ul class="pros-cons-list cons" style="margin-top:15px;">
                    <li><span class="highlight">é¢‘ç‡ç•¸å˜</span>ï¼ˆéçº¿æ€§æ˜ å°„ï¼‰</li>
                    <li>éœ€è¦<span class="highlight">é¢‘ç‡é¢„ç•¸å˜</span>æ ¡æ­£</li>
                    <li>è„‰å†²å“åº”ä¸åŸå‹ä¸åŒ</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- äº¤äº’å¼é¢‘ç‡å˜æ¢å¯¹æ¯” - åˆå¹¶åœ¨ä¸€å¼ å›¾ -->
<div class="content-section">
    <h2>ğŸ® äº¤äº’å¼é¢‘ç‡å˜æ¢å¯¹æ¯”</h2>
    <p style="font-size: 1.1rem; margin-bottom: 15px;">
        æ‹–åŠ¨æ»‘å—æ”¹å˜æ¨¡æ‹Ÿé¢‘ç‡ <strong>Î©</strong>ï¼Œåœ¨åŒä¸€å¼ å›¾ä¸Šå®æ—¶è§‚å¯Ÿä¸¤ç§æ–¹æ³•çš„æ˜ å°„æ›²çº¿ã€‚<br>
        <span style="color: var(--iim-color); font-weight: bold;">è“è‰²ç›´çº¿ = IIMï¼ˆçº¿æ€§ï¼Œä¼šæ··å ï¼‰</span> | 
        <span style="color: var(--blt-color); font-weight: bold;">çº¢è‰²æ›²çº¿ = BLTï¼ˆéçº¿æ€§ï¼Œæ— æ··å ï¼‰</span>
    </p>
    
    <div class="interactive-control">
        <div class="slider-control">
            <label>ğŸšï¸ æ¨¡æ‹Ÿé¢‘ç‡ Î© = <span class="value-display" id="analogOmegaValue">0.00</span> rad/sï¼ˆé‡‡æ ·å‘¨æœŸ T=1ï¼‰</label>
            <input type="range" id="analogOmegaSlider" min="-10" max="10" step="0.1" value="0">
        </div>
        
        <div class="combined-canvas-container">
            <canvas id="combinedFreqCanvas"></canvas>
        </div>
        
        <div class="freq-info-panel">
            <div class="freq-info-card iim">
                <h4 style="color: var(--iim-color);">IIMï¼šÏ‰ = Î©Â·T</h4>
                <div class="freq-value" style="color: var(--iim-color);" id="iimOmegaValue">0.000</div>
                <p id="iimStatus" style="text-align: center; font-weight: bold; min-height: 24px;"></p>
            </div>
            
            <div class="freq-info-card blt">
                <h4 style="color: var(--blt-color);">BLTï¼šÏ‰ = 2Â·arctan(Î©Â·T/2)</h4>
                <div class="freq-value" style="color: var(--blt-color);" id="bltOmegaValue">0.000</div>
                <p style="text-align: center; color: #5cb85c; font-weight: bold;">âœ“ å§‹ç»ˆåœ¨ (-Ï€, Ï€) å†…</p>
            </div>
        </div>
    </div>
</div>

<!-- æ··å è¯¦ç»†è§£é‡Š + è§†é¢‘æ¼”ç¤º -->
<div class="content-section">
    <h2>ğŸ¬ æ·±å…¥ç†è§£ï¼šä»€ä¹ˆæ˜¯æ··å ï¼ˆAliasingï¼‰ï¼Ÿ</h2>
    
    <div class="aliasing-explanation">
        <h4>ğŸŒŸ é€šä¿—ç†è§£ï¼šè½¦è½®å€’è½¬ä¹‹è°œ</h4>
        <p style="line-height: 1.8;">
            ä½ æœ‰æ²¡æœ‰çœ‹è¿‡ç”µå½±æˆ–è§†é¢‘ä¸­ï¼Œæ±½è½¦åŠ é€Ÿæ—¶ï¼Œè½®å­çœ‹èµ·æ¥åƒæ˜¯åœ¨<strong>å€’ç€è½¬</strong>ï¼Ÿè¿™å°±æ˜¯æ··å çš„ç»å…¸ä¾‹å­ï¼
        </p>
        <p style="margin-top: 10px; line-height: 1.8;">
            <strong>åŸç†ï¼š</strong>æ‘„åƒæœºæ¯ç§’æ‹æ‘„24å¸§ï¼ˆé‡‡æ ·ç‡ï¼‰ï¼Œå¦‚æœè½®å­è½¬å¾—å¤ªå¿«ï¼Œæ¯æ¬¡æ‹æ‘„æ—¶è½®è¾çš„ä½ç½®å˜åŒ–è¶…è¿‡ä¸€å®šè§’åº¦ï¼Œå¤§è„‘å°±ä¼šè¯¯ä»¥ä¸ºè½®å­åœ¨å€’è½¬ã€‚å®é™…ä¸Šè½®å­ä¸€ç›´åœ¨æ­£å‘æ—‹è½¬ï¼Œåªæ˜¯æˆ‘ä»¬çš„"é‡‡æ ·"ï¼ˆæ‹æ‘„ï¼‰ä¸å¤Ÿå¿«ï¼Œæ— æ³•æ­£ç¡®æ•æ‰çœŸå®çš„è¿åŠ¨ï¼
        </p>
        <p style="margin-top: 10px; line-height: 1.8;">
            <strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong>å½“æˆ‘ä»¬ç”¨æœ‰é™çš„"å¿«ç…§"ï¼ˆé‡‡æ ·ç‚¹ï¼‰å»æè¿°è¿ç»­çš„è¿åŠ¨æ—¶ï¼Œå¦‚æœè¿åŠ¨å¤ªå¿«ï¼ˆé«˜é¢‘æˆåˆ†ï¼‰ï¼Œå°±å¯èƒ½è¢«é”™è¯¯åœ°ç†è§£æˆæ…¢é€Ÿè¿åŠ¨ï¼ˆä½é¢‘æˆåˆ†ï¼‰â€”â€”è¿™å°±æ˜¯<span class="highlight">é«˜é¢‘æ··å æˆä½é¢‘</span>ï¼
        </p>
    </div>

    <div class="aliasing-explanation" style="background: #e8f5e9; border-color: #4caf50;">
        <h4 style="color: #2e7d32;">ğŸ“ æŠ€æœ¯åŸç†ï¼šé‡‡æ ·å®šç†ä¸é¢‘ç‡æŠ˜å </h4>
        <p style="line-height: 1.8;">
            <strong>å¥ˆå¥æ–¯ç‰¹é‡‡æ ·å®šç†ï¼ˆNyquist-Shannon Sampling Theoremï¼‰ï¼š</strong>
        </p>
        <p style="margin-top: 10px; margin-left: 20px;">
            è¦å®Œæ•´æ¢å¤ä¸€ä¸ªé¢‘ç‡ä¸º $f$ çš„ä¿¡å·ï¼Œé‡‡æ ·é¢‘ç‡ $f_s$ å¿…é¡»æ»¡è¶³ï¼š
            $$f_s > 2f$$
            å…¶ä¸­ $f_s/2$ è¢«ç§°ä¸º<strong>å¥ˆå¥æ–¯ç‰¹é¢‘ç‡</strong>ï¼Œæ˜¯é‡‡æ ·ç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®è¡¨ç¤ºçš„æœ€é«˜é¢‘ç‡ã€‚
        </p>
        <p style="margin-top: 15px; line-height: 1.8;">
            <strong>æ··å çš„æ•°å­¦è¡¨è¾¾ï¼š</strong>
        </p>
        <p style="margin-top: 10px; margin-left: 20px;">
            å½“æ¨¡æ‹Ÿä¿¡å·åŒ…å«é¢‘ç‡ $f > f_s/2$ çš„æˆåˆ†æ—¶ï¼Œè¿™äº›é«˜é¢‘æˆåˆ†ä¼šåœ¨é‡‡æ ·åè¢«"æŠ˜å "åˆ°ä½é¢‘åŒºåŸŸï¼š
            $$f_{aliased} = |f \bmod f_s - f_s/2|$$
            ä¾‹å¦‚ï¼šå¦‚æœé‡‡æ ·ç‡æ˜¯ 30 Hzï¼ˆæ¯ç§’30å¸§ï¼‰ï¼Œå¥ˆå¥æ–¯ç‰¹é¢‘ç‡æ˜¯ 15 Hzã€‚ä¸€ä¸ª 20 Hz çš„çœŸå®é¢‘ç‡ä¼šè¢«æ··å æˆ 10 Hz çš„å‡é¢‘ç‡ï¼
        </p>
        <p style="margin-top: 15px; line-height: 1.8;">
            <strong>åœ¨IIRæ»¤æ³¢å™¨è®¾è®¡ä¸­ï¼š</strong>
        </p>
        <p style="margin-top: 10px; margin-left: 20px;">
            è„‰å†²å“åº”ä¸å˜æ³•é€šè¿‡æ—¶åŸŸé‡‡æ ·å®ç°ï¼Œå¯¼è‡´é¢‘åŸŸä¸Šå‡ºç°å‘¨æœŸå»¶æ‹“ï¼š
            $$H(e^{j\omega}) = \frac{1}{T}\sum_{k=-\infty}^{\infty} H_a\left(j\frac{\omega - 2\pi k}{T}\right)$$
            è¿™æ„å‘³ç€æ‰€æœ‰ç›¸è· $2\pi/T$ çš„æ¨¡æ‹Ÿé¢‘ç‡æˆåˆ†éƒ½ä¼šå åŠ åœ¨åŒä¸€ä¸ªæ•°å­—é¢‘ç‡ä¸Šï¼Œäº§ç”Ÿæ··å å¤±çœŸï¼
        </p>
    </div>

    <h3 style="margin-top: 30px;">ğŸ“¹ æ··å ç°è±¡è§†é¢‘æ¼”ç¤º</h3>
    <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 20px;">
        ä¸‹é¢ä¸‰ä¸ªè§†é¢‘å±•ç¤ºäº†ç»å…¸çš„æ··å ç°è±¡ï¼šæ—‹è½¬ç‰©ä½“åœ¨ä¸åŒé‡‡æ ·ç‡ä¸‹çš„è§†è§‰æ•ˆæœã€‚æ³¨æ„è§‚å¯Ÿç‰©ä½“çš„<strong>æ—‹è½¬æ–¹å‘</strong>å’Œ<strong>é€Ÿåº¦</strong>å¦‚ä½•éšç€é‡‡æ ·ç‡å˜åŒ–è€Œ"å¤±çœŸ"ã€‚
    </p>

    <div class="video-container">
        <div class="video-player">
            <h4>ğŸš ç›´å‡æœºæ—‹ç¿¼</h4>
            <video id="video1" loop>
                <source src="heli.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
            </video>
            <div class="video-controls">
                <button onclick="togglePlay('video1')">â–¶ï¸ æ’­æ”¾/æš‚åœ</button>
                <button onclick="changeSpeed('video1', 0.5)">0.5x</button>
                <button onclick="changeSpeed('video1', 1)">1x</button>
                <button onclick="changeSpeed('video1', 2)">2x</button>
            </div>
        </div>

        <div class="video-player">
            <h4>ğŸ¡ ç©å…·é£è½¦</h4>
            <video id="video2" loop>
                <source src="toy.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
            </video>
            <div class="video-controls">
                <button onclick="togglePlay('video2')">â–¶ï¸ æ’­æ”¾/æš‚åœ</button>
                <button onclick="changeSpeed('video2', 0.5)">0.5x</button>
                <button onclick="changeSpeed('video2', 1)">1x</button>
                <button onclick="changeSpeed('video2', 2)">2x</button>
            </div>
        </div>

        <div class="video-player">
            <h4>ğŸ› è´§è½¦è½¦è½®</h4>
            <video id="video3" loop>
                <source src="wagon.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
            </video>
            <div class="video-controls">
                <button onclick="togglePlay('video3')">â–¶ï¸ æ’­æ”¾/æš‚åœ</button>
                <button onclick="changeSpeed('video3', 0.5)">0.5x</button>
                <button onclick="changeSpeed('video3', 1)">1x</button>
                <button onclick="changeSpeed('video3', 2)">2x</button>
            </div>
        </div>
    </div>

    <div class="note-box" style="margin-top: 25px;">
        <strong>ğŸ’¡ è§‚å¯Ÿè¦ç‚¹ï¼š</strong>
        <ul style="margin-left: 20px; margin-top: 8px;">
            <li>å½“ç‰©ä½“è½¬é€Ÿæ¥è¿‘æˆ–è¶…è¿‡é‡‡æ ·ç‡çš„ä¸€åŠæ—¶ï¼Œä¼šå‡ºç°<strong>å€’è½¬</strong>ç°è±¡</li>
            <li>æ”¹å˜æ’­æ”¾é€Ÿåº¦ï¼ˆç›¸å½“äºæ”¹å˜é‡‡æ ·ç‡ï¼‰å¯ä»¥çœ‹åˆ°æ··å æ•ˆæœçš„å˜åŒ–</li>
            <li>è¿™æ­£æ˜¯IIMæ–¹æ³•åœ¨å¤„ç†é«˜é¢‘ä¿¡å·æ—¶ä¼šé‡åˆ°çš„é—®é¢˜ï¼</li>
        </ul>
    </div>
</div>

<script>
// ==================== å…¨å±€å˜é‡ ====================
let animationFrame = 0;
const animationSpeed = 0.015;
const T = 1;

// ==================== è§†é¢‘æ§åˆ¶å‡½æ•° ====================
function togglePlay(videoId) {
    const video = document.getElementById(videoId);
    if (video.paused) {
        video.play();
    } else {
        video.pause();
    }
}

function changeSpeed(videoId, speed) {
    const video = document.getElementById(videoId);
    video.playbackRate = speed;
}

// ==================== ç”Ÿæ´»åŒ–ç±»æ¯”åŠ¨ç”» ====================
function drawFabricAnalogy() {
    const svg = document.getElementById('fabricAnalogy');
    if (!svg) return;
    
    const t = (Math.sin(animationFrame * animationSpeed) + 1) / 2;
    
    svg.innerHTML = `
        <rect x="20" y="50" width="80" height="30" fill="#ff6b6b" opacity="0.8"/>
        <text x="60" y="70" text-anchor="middle" font-size="12" fill="white">é«˜é¢‘</text>
        
        <rect x="100" y="50" width="80" height="30" fill="#4ecdc4" opacity="0.8"/>
        <text x="140" y="70" text-anchor="middle" font-size="12" fill="white">ä¸­é¢‘</text>
        
        <rect x="180" y="50" width="80" height="30" fill="#95e1d3" opacity="0.8"/>
        <text x="220" y="70" text-anchor="middle" font-size="12" fill="white">ä½é¢‘</text>
        
        <path d="M 270 65 L 290 65" stroke="#333" stroke-width="2" marker-end="url(#arrow-fabric)"/>
        
        <rect x="300" y="40" width="70" height="70" fill="none" stroke="#333" stroke-width="2" rx="5"/>
        <text x="335" y="25" text-anchor="middle" font-size="10">å›ºå®šç›’å­</text>
        
        <g transform="translate(${300}, ${40 + t * 20})">
            <rect x="5" y="5" width="60" height="15" fill="#ff6b6b" opacity="${0.6 + t * 0.3}"/>
            <rect x="5" y="20" width="60" height="15" fill="#4ecdc4" opacity="${0.6 + t * 0.3}"/>
            <rect x="5" y="35" width="60" height="15" fill="#95e1d3" opacity="${0.6 + t * 0.3}"/>
        </g>
        
        <text x="335" y="130" text-anchor="middle" font-size="14" fill="#d9534f" font-weight="bold">
            å åœ¨ä¸€èµ·ï¼
        </text>
        
        <defs>
            <marker id="arrow-fabric" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
            </marker>
        </defs>
    `;
}

function drawMapAnalogy() {
    const svg = document.getElementById('mapAnalogy');
    if (!svg) return;
    
    const t = (Math.sin(animationFrame * animationSpeed * 1.2) + 1) / 2;
    
    svg.innerHTML = `
        <g transform="translate(100, 125)">
            <circle cx="0" cy="0" r="60" fill="none" stroke="#2196f3" stroke-width="2"/>
            <ellipse cx="0" cy="0" rx="60" ry="30" fill="none" stroke="#2196f3" stroke-width="1" stroke-dasharray="3,3"/>
            <ellipse cx="0" cy="0" rx="30" ry="60" fill="none" stroke="#2196f3" stroke-width="1" stroke-dasharray="3,3"/>
            <path d="M -40,-20 Q -20,-30 0,-25 Q 20,-30 40,-20" stroke="#4caf50" stroke-width="2" fill="none"/>
            <path d="M -35,0 Q -15,10 5,5 Q 25,10 35,0" stroke="#4caf50" stroke-width="2" fill="none"/>
            <text x="0" y="85" text-anchor="middle" font-size="12">æ•´ä¸ªåœ°çƒ</text>
        </g>
        
        <path d="M 170 125 L 200 125" stroke="#333" stroke-width="2" marker-end="url(#arrow-map)"/>
        
        <g transform="translate(250, 125)">
            <rect x="-60" y="-40" width="120" height="80" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="5"/>
            <path d="M -40,-20 Q -20,-15 0,-18 Q 20,-15 40,-20" 
                  stroke="#4caf50" stroke-width="2" fill="none" 
                  transform="scale(${1 + t * 0.1}, ${1 - t * 0.1})"/>
            <path d="M -35,5 Q -15,15 5,12 Q 25,15 35,5" 
                  stroke="#4caf50" stroke-width="2" fill="none"
                  transform="scale(${1 + t * 0.1}, ${1 - t * 0.1})"/>
            <text x="0" y="60" text-anchor="middle" font-size="12">å¹³é¢åœ°å›¾</text>
        </g>
        
        <text x="200" y="30" text-anchor="middle" font-size="14" fill="#e74c3c" font-weight="bold">
            å½¢çŠ¶æ‰­æ›²ï¼Œä½†æ— é‡å 
        </text>
        
        <defs>
            <marker id="arrow-map" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
            </marker>
        </defs>
    `;
}

// ==================== IIMæ˜ å°„åŠ¨ç”»ï¼ˆä½¿ç”¨ç»™å®šä»£ç ï¼Œæ”¾å¤§å­—å·ï¼‰====================
function drawIIMMapping() {
    const canvas = document.getElementById('iimMappingCanvas');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    const rect = canvas.getBoundingClientRect();
    const dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    
    const width = rect.width;
    const height = rect.height;
    
    ctx.clearRect(0, 0, width, height);
    
    const t = (Math.sin(animationFrame * animationSpeed) + 1) / 2;
    
    const sX = width * 0.25, sY = height / 2;
    const zX = width * 0.75, zY = height / 2;
    const zRadius = Math.min(width, height) / 4.5;
    const sHeight = zRadius * 2 * 3; 
    const stripHeight = sHeight / 3;

    // --- Så¹³é¢ç»˜åˆ¶ ---
    ctx.strokeStyle = '#333'; ctx.lineWidth = 2;
    ctx.beginPath(); ctx.moveTo(sX, sY - sHeight/2 - 20); ctx.lineTo(sX, sY + sHeight/2 + 20); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(sX - 40, sY); ctx.lineTo(sX + 40, sY); ctx.stroke();
    ctx.fillStyle = '#333'; ctx.font = 'bold 18px sans-serif'; ctx.textAlign = 'center';
    ctx.fillText('S å¹³é¢', sX, height - 20);
    ctx.font = 'bold 16px sans-serif';
    ctx.fillText('jÎ©', sX - 20, 25); 
    ctx.fillText('Ïƒ', sX + 50, sY + 5);

    const strips = [
        { label: '[-Ï€/T, Ï€/T]', color: '#2ecc71', y_offset: 0 },
        { label: '[Ï€/T, 3Ï€/T]', color: '#e74c3c', y_offset: -stripHeight },
        { label: '[-3Ï€/T, -Ï€/T]', color: '#3498db', y_offset: stripHeight }
    ];
    
    strips.forEach(strip => {
        ctx.fillStyle = strip.color;
        ctx.globalAlpha = 0.2;
        ctx.fillRect(sX - 40, sY + strip.y_offset - stripHeight/2, 80, stripHeight);
        ctx.globalAlpha = 1;
        
        ctx.strokeStyle = strip.color; ctx.setLineDash([4, 4]);
        ctx.beginPath(); ctx.moveTo(0, sY + strip.y_offset - stripHeight/2); ctx.lineTo(sX + 40, sY + strip.y_offset - stripHeight/2); ctx.stroke();
        ctx.beginPath(); ctx.moveTo(0, sY + strip.y_offset + stripHeight/2); ctx.lineTo(sX + 40, sY + strip.y_offset + stripHeight/2); ctx.stroke();
        ctx.setLineDash([]);
        
        ctx.fillStyle = '#555'; ctx.font = '13px sans-serif'; ctx.textAlign = 'right';
        ctx.fillText(strip.label, sX - 45, sY + strip.y_offset);
    });

    // --- Zå¹³é¢ç»˜åˆ¶ ---
    ctx.strokeStyle = '#333'; ctx.lineWidth = 2;
    ctx.beginPath(); ctx.arc(zX, zY, zRadius, 0, 2 * Math.PI); ctx.stroke();
    ctx.fillStyle = '#333'; ctx.font = 'bold 18px sans-serif'; ctx.textAlign = 'center';
    ctx.fillText('Z å¹³é¢', zX, height - 20);
    ctx.font = 'bold 16px sans-serif';
    ctx.fillText('Re[Z]', zX + zRadius + 30, zY + 5); 
    ctx.fillText('Im[Z]', zX, zY - zRadius - 15);

    // --- åŠ¨ç”»éƒ¨åˆ† ---
    const angle = (t * 2 - 1) * Math.PI; 
    const zTargetX = zX + zRadius * Math.cos(angle);
    const zTargetY = zY - zRadius * Math.sin(angle); 

    strips.forEach(strip => {
        const s_y = sY + strip.y_offset - (angle / Math.PI) * (stripHeight / 2);

        const controlX = sX + (zX - sX) / 2;
        const controlY = sY + strip.y_offset * 1.2;

        ctx.beginPath(); ctx.moveTo(sX, s_y);
        ctx.quadraticCurveTo(controlX, controlY, zTargetX, zTargetY);
        ctx.strokeStyle = strip.color; ctx.lineWidth = 2.5; ctx.stroke();

        ctx.fillStyle = strip.color;
        ctx.beginPath(); ctx.arc(sX, s_y, 5, 0, 2 * Math.PI); ctx.fill();
    });
    
    ctx.fillStyle = 'black'; ctx.beginPath(); ctx.arc(zTargetX, zTargetY, 7, 0, 2 * Math.PI); ctx.fill();
    ctx.fillStyle = 'white'; ctx.beginPath(); ctx.arc(zTargetX, zTargetY, 4, 0, 2 * Math.PI); ctx.fill();
}

// ==================== BLTæ˜ å°„åŠ¨ç”»ï¼ˆä¼˜åŒ–ç‰ˆ - æ”¹ç”¨çº¢ç»¿è“é…è‰²ï¼Œæ”¾å¤§å­—å·ï¼‰====================
function drawBLTMapping() {
    const canvas = document.getElementById('bltMappingCanvas');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    const rect = canvas.getBoundingClientRect();
    const dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    
    const width = rect.width;
    const height = rect.height;
    
    ctx.clearRect(0, 0, width, height);
    
    const t = (Math.sin(animationFrame * animationSpeed * 0.8) + 1) / 2;
    
    // ä¸‰ä¸ªå¹³é¢çš„ä½ç½®
    const sX = width * 0.15;
    const s1X = width * 0.45;
    const zX = width * 0.75;
    const centerY = height / 2;
    
    const sWidth = 50;
    const sHeight = Math.min(width, height) * 0.65;
    const s1Height = sHeight * 0.45;
    const zRadius = s1Height / 2 * 0.95;
    
    // ========== ç»˜åˆ¶Så¹³é¢ ==========
    ctx.fillStyle = '#e3f2fd';
    ctx.globalAlpha = 0.3;
    ctx.fillRect(sX - sWidth, centerY - sHeight/2, sWidth, sHeight);
    ctx.globalAlpha = 1;
    
    ctx.strokeStyle = '#333'; ctx.lineWidth = 2;
    ctx.beginPath(); 
    ctx.moveTo(sX, centerY - sHeight/2 - 10); 
    ctx.lineTo(sX, centerY + sHeight/2 + 10); 
    ctx.stroke();
    ctx.beginPath(); 
    ctx.moveTo(sX - sWidth - 10, centerY); 
    ctx.lineTo(sX + 20, centerY); 
    ctx.stroke();
    
    // jÎ©è™šè½´ï¼ˆç²—ç°çº¿ï¼‰
    ctx.strokeStyle = '#888';
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(sX, centerY - sHeight/2);
    ctx.lineTo(sX, centerY + sHeight/2);
    ctx.stroke();
    
    ctx.fillStyle = '#333'; ctx.font = 'bold 18px sans-serif'; ctx.textAlign = 'center';
    ctx.fillText('S å¹³é¢', sX - sWidth/2, height - 20);
    ctx.font = 'bold 16px sans-serif';
    ctx.fillText('jÎ©', sX - 15, 25);
    ctx.fillText('Ïƒ', sX + 30, centerY + 5);
    
    ctx.fillStyle = '#2196f3'; ctx.font = 'bold 13px sans-serif';
    ctx.fillText('å·¦åŠå¹³é¢', sX - sWidth/2, centerY);
    
    // ========== ç»˜åˆ¶Sâ‚å¹³é¢ï¼ˆä½¿ç”¨ç»¿è‰²ç³»ï¼‰==========
    ctx.fillStyle = '#e8f5e9';
    ctx.globalAlpha = 0.4;
    ctx.fillRect(s1X - 30, centerY - s1Height/2, 60, s1Height);
    ctx.globalAlpha = 1;
    
    ctx.strokeStyle = '#333'; ctx.lineWidth = 2;
    ctx.beginPath(); 
    ctx.moveTo(s1X, centerY - s1Height/2 - 10); 
    ctx.lineTo(s1X, centerY + s1Height/2 + 10); 
    ctx.stroke();
    
    // å‹ç¼©åçš„è™šè½´ï¼ˆä½¿ç”¨ç»¿è‰²ï¼‰
    ctx.strokeStyle = '#4caf50';
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(s1X, centerY - s1Height/2);
    ctx.lineTo(s1X, centerY + s1Height/2);
    ctx.stroke();
    
    // è¾¹ç•Œæ ‡æ³¨ï¼ˆè™šçº¿ - ä½¿ç”¨æ·±ç»¿è‰²ï¼‰
    ctx.strokeStyle = '#2e7d32';
    ctx.lineWidth = 2;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(0, centerY - s1Height/2);
    ctx.lineTo(s1X + 30, centerY - s1Height/2);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(0, centerY + s1Height/2);
    ctx.lineTo(s1X + 30, centerY + s1Height/2);
    ctx.stroke();
    ctx.setLineDash([]);
    
    ctx.fillStyle = '#333'; ctx.font = 'bold 18px sans-serif'; ctx.textAlign = 'center';
    ctx.fillText('Sâ‚ å¹³é¢', s1X, height - 20);
    ctx.font = 'bold 16px sans-serif';
    ctx.fillText('jÎ©â‚', s1X - 15, 25);
    
    ctx.fillStyle = '#2e7d32'; ctx.font = 'bold 12px sans-serif'; ctx.textAlign = 'right';
    ctx.fillText('Ï€/T', s1X - 35, centerY - s1Height/2 + 4);
    ctx.fillText('-Ï€/T', s1X - 35, centerY + s1Height/2 + 4);
    
    // ========== ç»˜åˆ¶Zå¹³é¢ï¼ˆä½¿ç”¨çº¢è‰²ç³»ï¼‰==========
    ctx.strokeStyle = '#333'; ctx.lineWidth = 2;
    ctx.beginPath(); 
    ctx.arc(zX, centerY, zRadius, 0, 2 * Math.PI); 
    ctx.stroke();
    
    ctx.fillStyle = 'rgba(244, 67, 54, 0.1)';
    ctx.fill();
    
    ctx.strokeStyle = '#666'; ctx.lineWidth = 1;
    ctx.beginPath(); 
    ctx.moveTo(zX - zRadius - 10, centerY); 
    ctx.lineTo(zX + zRadius + 10, centerY); 
    ctx.moveTo(zX, centerY - zRadius - 10); 
    ctx.lineTo(zX, centerY + zRadius + 10); 
    ctx.stroke();
    
    ctx.fillStyle = '#333'; ctx.font = 'bold 18px sans-serif'; ctx.textAlign = 'center';
    ctx.fillText('Z å¹³é¢', zX, height - 20);
    ctx.font = 'bold 16px sans-serif';
    ctx.fillText('Re[Z]', zX + zRadius + 30, centerY + 5); 
    ctx.fillText('Im[Z]', zX, centerY - zRadius - 15);
    
    // ========== åŠ¨ç”»ï¼šè¿½è¸ªä¸€ä¸ªç‚¹çš„å®Œæ•´è·¯å¾„ ==========
    const angle = (t * 2 - 1) * Math.PI;
    
    const Omega = (2/T) * Math.tan(angle / 2);
    const s_y = centerY - (Omega / 10) * (sHeight / 2);
    
    const s1_y = centerY - (angle / Math.PI) * (s1Height / 2);
    
    const z_angle = -angle;
    const z_x = zX + zRadius * Math.cos(z_angle);
    const z_y = centerY + zRadius * Math.sin(z_angle);
    
    // S â†’ Sâ‚ (è“è‰²)
    const controlX1 = sX + (s1X - sX) / 2;
    const controlY1 = centerY;
    ctx.beginPath();
    ctx.moveTo(sX, s_y);
    ctx.quadraticCurveTo(controlX1, controlY1, s1X, s1_y);
    ctx.strokeStyle = '#2196f3';
    ctx.lineWidth = 2.5;
    ctx.stroke();
    
    // Sâ‚ â†’ Z (çº¢è‰²)
    const controlX2 = s1X + (zX - s1X) / 2;
    const controlY2 = centerY;
    ctx.beginPath();
    ctx.moveTo(s1X, s1_y);
    ctx.quadraticCurveTo(controlX2, controlY2, z_x, z_y);
    ctx.strokeStyle = '#f44336';
    ctx.lineWidth = 2.5;
    ctx.stroke();
    
    // ç»˜åˆ¶ä¸‰ä¸ªè¿½è¸ªç‚¹
    // Så¹³é¢ç‚¹ï¼ˆè“è‰²ï¼‰
    ctx.fillStyle = '#2196f3';
    ctx.beginPath();
    ctx.arc(sX, s_y, 5, 0, 2 * Math.PI);
    ctx.fill();
    
    // Sâ‚å¹³é¢ç‚¹ï¼ˆç»¿è‰²ï¼‰
    ctx.fillStyle = '#4caf50';
    ctx.beginPath();
    ctx.arc(s1X, s1_y, 5, 0, 2 * Math.PI);
    ctx.fill();
    
    // Zå¹³é¢ç‚¹ï¼ˆçº¢è‰²åŒå±‚åœ†ï¼‰
    ctx.fillStyle = 'black';
    ctx.beginPath();
    ctx.arc(z_x, z_y, 7, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = 'white';
    ctx.beginPath();
    ctx.arc(z_x, z_y, 4, 0, 2 * Math.PI);
    ctx.fill();
}

// ==================== åˆå¹¶çš„äº¤äº’å¼é¢‘ç‡å¯¹æ¯”ï¼ˆæ”¾å¤§å­—å·ï¼‰====================
function drawCombinedFreqComparison(Omega) {
    const canvas = document.getElementById('combinedFreqCanvas');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    const rect = canvas.getBoundingClientRect();
    const dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    
    const width = rect.width;
    const height = rect.height;
    const padding = 60;
    const plotWidth = width - 2 * padding;
    const plotHeight = height - 2 * padding;
    
    ctx.clearRect(0, 0, width, height);
    
    const originX = padding;
    const originY = height - padding;
    
    // åæ ‡è½´
    ctx.strokeStyle = '#333';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(originX, padding);
    ctx.lineTo(originX, originY);
    ctx.lineTo(width - padding, originY);
    ctx.stroke();
    
    // è½´æ ‡ç­¾ï¼ˆæ”¾å¤§å­—å·ï¼‰
    ctx.fillStyle = '#333';
    ctx.font = 'bold 16px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Î© (æ¨¡æ‹Ÿé¢‘ç‡ rad/s)', width / 2, height - 10);
    ctx.save();
    ctx.translate(20, height / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('Ï‰ (æ•°å­—é¢‘ç‡ rad/s)', 0, 0);
    ctx.restore();
    
    // è®¾ç½®èŒƒå›´
    const maxOmega = 10;
    const scaleX = plotWidth / (2 * maxOmega);
    const scaleY = plotHeight / (2 * Math.PI);
    
    // ç»˜åˆ¶ç½‘æ ¼
    ctx.strokeStyle = '#e0e0e0';
    ctx.lineWidth = 1;
    ctx.font = '13px sans-serif';
    
    // Yè½´åˆ»åº¦
    const yTicks = [-Math.PI, -Math.PI/2, 0, Math.PI/2, Math.PI];
    yTicks.forEach(val => {
        const y = originY - (val + Math.PI) * scaleY;
        ctx.beginPath();
        ctx.moveTo(originX, y);
        ctx.lineTo(width - padding, y);
        ctx.stroke();
        
        ctx.fillStyle = '#666';
        ctx.textAlign = 'right';
        const label = val === 0 ? '0' : (Math.abs(val / Math.PI) === 1 ? (val < 0 ? '-Ï€' : 'Ï€') : (val < 0 ? '-Ï€/2' : 'Ï€/2'));
        ctx.fillText(label, originX - 5, y + 4);
    });
    
    // Xè½´åˆ»åº¦
    ctx.textAlign = 'center';
    for (let omega = -maxOmega; omega <= maxOmega; omega += 2) {
        const x = originX + (omega + maxOmega) * scaleX;
        ctx.strokeStyle = '#333';
        ctx.beginPath();
        ctx.moveTo(x, originY);
        ctx.lineTo(x, originY + 5);
        ctx.stroke();
        ctx.fillStyle = '#666';
        ctx.fillText(omega.toString(), x, originY + 20);
    }
    
    // ç»˜åˆ¶IIMç›´çº¿ï¼šÏ‰ = Î© * T
    ctx.strokeStyle = '#3498db';
    ctx.lineWidth = 3;
    ctx.beginPath();
    let first = true;
    for (let Om = -maxOmega; Om <= maxOmega; Om += 0.05) {
        const w = Om * T;
        const x = originX + (Om + maxOmega) * scaleX;
        const y = originY - (w + Math.PI) * scaleY;
        
        if (first) {
            ctx.moveTo(x, y);
            first = false;
        } else {
            ctx.lineTo(x, y);
        }
    }
    ctx.stroke();
    
    // æ ‡æ³¨æ··å è¾¹ç•Œ
    ctx.strokeStyle = '#ffc107';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 5]);
    const omegaBoundary = Math.PI / T;
    const xPlus = originX + (omegaBoundary + maxOmega) * scaleX;
    const xMinus = originX + (-omegaBoundary + maxOmega) * scaleX;
    ctx.beginPath();
    ctx.moveTo(xPlus, padding);
    ctx.lineTo(xPlus, originY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(xMinus, padding);
    ctx.lineTo(xMinus, originY);
    ctx.stroke();
    ctx.setLineDash([]);
    
    ctx.fillStyle = '#ffc107';
    ctx.font = 'bold 13px sans-serif';
    ctx.fillText('Ï€/T', xPlus, padding - 5);
    ctx.fillText('-Ï€/T', xMinus, padding - 5);
    
    // ç»˜åˆ¶BLTæ›²çº¿ï¼šÏ‰ = 2 * arctan(Î© * T / 2)
    ctx.strokeStyle = '#e74c3c';
    ctx.lineWidth = 3;
    ctx.beginPath();
    first = true;
    for (let Om = -maxOmega; Om <= maxOmega; Om += 0.05) {
        const w = 2 * Math.atan(Om * T / 2);
        const x = originX + (Om + maxOmega) * scaleX;
        const y = originY - (w + Math.PI) * scaleY;
        
        if (first) {
            ctx.moveTo(x, y);
            first = false;
        } else {
            ctx.lineTo(x, y);
        }
    }
    ctx.stroke();
    
    // ç»˜åˆ¶å½“å‰ç‚¹
    const omega_iim = Omega * T;
    const omega_blt = 2 * Math.atan(Omega * T / 2);
    
    const x_current = originX + (Omega + maxOmega) * scaleX;
    const y_iim = originY - (omega_iim + Math.PI) * scaleY;
    const y_blt = originY - (omega_blt + Math.PI) * scaleY;
    
    // IIMå½“å‰ç‚¹
    ctx.strokeStyle = '#3498db';
    ctx.lineWidth = 1;
    ctx.setLineDash([2, 2]);
    ctx.beginPath();
    ctx.moveTo(x_current, originY);
    ctx.lineTo(x_current, y_iim);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(originX, y_iim);
    ctx.lineTo(x_current, y_iim);
    ctx.stroke();
    ctx.setLineDash([]);
    
    ctx.fillStyle = '#3498db';
    ctx.beginPath();
    ctx.arc(x_current, y_iim, 6, 0, 2 * Math.PI);
    ctx.fill();
    
    // BLTå½“å‰ç‚¹
    ctx.strokeStyle = '#e74c3c';
    ctx.lineWidth = 1;
    ctx.setLineDash([2, 2]);
    ctx.beginPath();
    ctx.moveTo(x_current, originY);
    ctx.lineTo(x_current, y_blt);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(originX, y_blt);
    ctx.lineTo(x_current, y_blt);
    ctx.stroke();
    ctx.setLineDash([]);
    
    ctx.fillStyle = '#e74c3c';
    ctx.beginPath();
    ctx.arc(x_current, y_blt, 6, 0, 2 * Math.PI);
    ctx.fill();
    
    // å›¾ä¾‹ï¼ˆæ”¾å¤§å­—å·ï¼‰
    ctx.font = 'bold 16px sans-serif';
    ctx.textAlign = 'left';
    ctx.fillStyle = '#3498db';
    ctx.fillText('â€” IIM (ç›´çº¿)', width - padding - 150, padding + 25);
    ctx.fillStyle = '#e74c3c';
    ctx.fillText('â€” BLT (æ›²çº¿)', width - padding - 150, padding + 50);
    
    return { omega_iim, omega_blt };
}

// ==================== åˆå§‹åŒ– ====================
function initialize() {
    function animate() {
        animationFrame++;
        drawFabricAnalogy();
        drawMapAnalogy();
        drawIIMMapping();
        drawBLTMapping();
        requestAnimationFrame(animate);
    }
    animate();
    
    // æ»‘å—äº¤äº’
    const slider = document.getElementById('analogOmegaSlider');
    const analogOmegaValue = document.getElementById('analogOmegaValue');
    const iimOmegaValue = document.getElementById('iimOmegaValue');
    const bltOmegaValue = document.getElementById('bltOmegaValue');
    const iimStatus = document.getElementById('iimStatus');
    
    if (slider) {
        slider.addEventListener('input', (e) => {
            const Omega = parseFloat(e.target.value);
            analogOmegaValue.textContent = Omega.toFixed(2);
            
            const result = drawCombinedFreqComparison(Omega);
            
            iimOmegaValue.textContent = result.omega_iim.toFixed(3);
            bltOmegaValue.textContent = result.omega_blt.toFixed(3);
            
            // æ£€æŸ¥æ··å 
            if (Math.abs(Omega) > Math.PI / T) {
                iimStatus.innerHTML = 'âš ï¸ è¶…è¿‡ Ï€/Tï¼Œ<span style="color:#d9534f">å‘ç”Ÿæ··å </span>ï¼';
                iimStatus.style.color = '#d9534f';
            } else {
                iimStatus.innerHTML = 'âœ“ åœ¨ (-Ï€/T, Ï€/T) å†…ï¼Œ<span style="color:#5cb85c">æš‚æ— æ··å </span>';
                iimStatus.style.color = '#5cb85c';
            }
        });
        
        slider.value = 0;
        slider.dispatchEvent(new Event('input'));
    }
}

window.addEventListener('load', initialize);
window.addEventListener('resize', () => {
    drawIIMMapping();
    drawBLTMapping();
    const slider = document.getElementById('analogOmegaSlider');
    if (slider) slider.dispatchEvent(new Event('input'));
});
</script>

</body>
</html>