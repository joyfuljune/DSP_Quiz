<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬å…­ç« ï¼šIIRæ•°å­—æ»¤æ³¢å™¨è®¾è®¡æµ‹éªŒ</title>
    
    <!-- åŠ è½½ MathJax -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #1a5276 0%, #2c3e50 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .start-screen {
            text-align: center;
            padding: 20px;
        }

        .info-form {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #3498db;
        }

        .exam-info {
            background: #eaf2f8;
            border-left: 4px solid #3498db;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .exam-info h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .exam-info ul {
            margin-left: 20px;
            color: #34495e;
            line-height: 1.8;
        }

        .progress-bar {
            background: #ecf0f1;
            height: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #3498db, #2980b9);
            height: 100%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #dee2e6;
            transition: all 0.3s;
        }

        .question-card.answered {
            border-color: #3498db;
            background: #eaf2f8;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            background: #2980b9;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .question-category {
            background: #95a5a6;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
        }
        
        /* ç¬¬å…­ç« çš„åˆ†ç±»é¢œè‰² */
        .question-category.method { background: #3498db; }     /* è®¾è®¡æ–¹æ³• */
        .question-category.transform { background: #e67e22; }  /* é¢‘ç‡å˜æ¢ */
        .question-category.butter { background: #9b59b6; }     /* Butterworth */
        .question-category.calc { background: #e74c3c; }       /* è®¡ç®—é¢˜ */
        .question-category.app { background: #1abc9c; }        /* åº”ç”¨ */

        .question-text {
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option:hover {
            background: #f8f9fa;
            border-color: #3498db;
            transform: translateX(5px);
        }

        .option.selected {
            background: #eaf2f8;
            border-color: #3498db;
            border-width: 3px;
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
            border-width: 3px;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            border-width: 3px;
        }

        .option-label {
            background: #2980b9;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .option.correct .option-label { background: #28a745; }
        .option.incorrect .option-label { background: #dc3545; }
        .option-text { flex: 1; color: #2c3e50; }

        .explanation {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            display: none;
        }

        .explanation.show { display: block; animation: slideDown 0.3s ease; }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation h4 {
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .explanation p { color: #856404; line-height: 1.6; }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-submit { background: #2980b9; color: white; }
        .btn-next { background: #3498db; color: white; }
        .btn-prev { background: #95a5a6; color: white; }
        .btn-finish { background: #c0392b; color: white; }
        .btn-start { background: #3498db; color: white; padding: 15px 50px; font-size: 1.2em; }

        .result-panel {
            background: linear-gradient(135deg, #1a5276 0%, #2c3e50 100%);
            color: white;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            display: none;
        }

        .result-panel.show { display: block; animation: fadeIn 0.5s ease; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .student-info {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        .student-info p { margin: 5px 0; }
        .result-score { font-size: 4em; font-weight: bold; margin: 20px 0; }
        .result-message { font-size: 1.5em; margin-bottom: 20px; }
        .result-details { background: rgba(255,255,255,0.2); border-radius: 10px; padding: 20px; margin-top: 20px; }
        .result-details table { width: 100%; border-collapse: collapse; }
        .result-details td { padding: 10px; font-size: 1.1em; }
        .review-section { margin-top: 30px; }

        .review-question {
            background: white;
            color: #2c3e50;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        .review-status {
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9em;
        }
        .review-status.correct { background: #d4edda; color: #155724; }
        .review-status.wrong { background: #f8d7da; color: #721c24; }
        
        .statistics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: white;
            color: #2c3e50;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-value { font-size: 2em; font-weight: bold; margin: 10px 0; }
        .stat-label { color: #7f8c8d; font-size: 0.9em; }

        @media (max-width: 768px) {
            .container { padding: 20px; }
            h1 { font-size: 1.5em; }
            .button-group { flex-direction: column; }
            button { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ç¬¬å…­ç« ï¼šIIRæ•°å­—æ»¤æ³¢å™¨è®¾è®¡</h1>
        <p class="subtitle">DSP - åŒçº¿æ€§å˜æ¢æ³•ã€Butterworthæ»¤æ³¢å™¨ä¸é¢‘ç‡å˜æ¢</p>

        <!-- å¼€å§‹ç•Œé¢ -->
        <div id="startScreen" class="start-screen">
            <div class="exam-info">
                <h3>ğŸ“‹ æµ‹éªŒè¯´æ˜</h3>
                <ul>
                    <li>å…±20é“é¢˜ç›®ï¼Œæ¶µç›–IIRæ»¤æ³¢å™¨è®¾è®¡çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹</li>
                    <li>åŒ…æ‹¬åŒçº¿æ€§å˜æ¢ã€è„‰å†²å“åº”ä¸å˜æ³•ã€Butterworthè®¾è®¡ç­‰</li>
                    <li>é€‰é¡¹é¡ºåºæ¯æ¬¡éšæœºæ‰“ä¹±ï¼Œè¯·ä»”ç»†é˜…è¯»</li>
                    <li>æäº¤åå¯æŸ¥çœ‹è¯¦ç»†è§£æå’Œæ­£ç¡®ç­”æ¡ˆ</li>
                </ul>
            </div>

            <div class="info-form">
                <h3 style="color: #2c3e50; margin-bottom: 20px;">è¯·å¡«å†™ä½ çš„ä¿¡æ¯</h3>
                <div class="form-group">
                    <label for="studentId">å­¦å· <span style="color: red;">*</span></label>
                    <input type="text" id="studentId" placeholder="è¯·è¾“å…¥å­¦å·" required="">
                </div>
                <div class="form-group">
                    <label for="studentName">å§“å <span style="color: red;">*</span></label>
                    <input type="text" id="studentName" placeholder="è¯·è¾“å…¥å§“å" required="">
                </div>
                <button class="btn-start" onclick="startExam()">å¼€å§‹è€ƒè¯•</button>
            </div>
        </div>

        <!-- è€ƒè¯•ç•Œé¢ -->
        <div id="examScreen" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">0/20 å·²å®Œæˆ</div>
            </div>

            <div id="questionContainer"></div>

            <div class="button-group">
                <button class="btn-prev" id="prevBtn" onclick="previousQuestion()">â¬…ï¸ ä¸Šä¸€é¢˜</button>
                <button class="btn-submit" id="submitBtn" onclick="submitAnswer()">âœ“ æäº¤ç­”æ¡ˆ</button>
                <button class="btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â¡ï¸</button>
                <button class="btn-finish" id="finishBtn" onclick="finishExam()" style="display: none;">ğŸ å®Œæˆè€ƒè¯•</button>
            </div>
        </div>

        <!-- ç»“æœç•Œé¢ -->
        <div class="result-panel" id="resultPanel">
            <h2>è€ƒè¯•å®Œæˆï¼</h2>
            
            <div class="student-info">
                <p><strong>å­¦å·ï¼š</strong><span id="resultStudentId"></span></p>
                <p><strong>å§“åï¼š</strong><span id="resultStudentName"></span></p>
            </div>

            <div class="result-score" id="resultScore">0/20</div>
            <div class="result-message" id="resultMessage"></div>
            
            <div class="statistics">
                <div class="stat-card">
                    <div class="stat-label">æ­£ç¡®ç‡</div>
                    <div class="stat-value" id="accuracyRate">0%</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">è®¾è®¡æ–¹æ³•</div>
                    <div class="stat-value" id="methodScore">0/0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">é¢‘ç‡å˜æ¢</div>
                    <div class="stat-value" id="transformScore">0/0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Butterworth</div>
                    <div class="stat-value" id="butterScore">0/0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">è®¡ç®—ä¸åº”ç”¨</div>
                    <div class="stat-value" id="calcScore">0/0</div>
                </div>
            </div>

            <button class="btn-submit" onclick="showReview()" style="margin-top: 30px;">ğŸ“ æŸ¥çœ‹è¯¦ç»†è§£æ</button>
            <button class="btn-next" onclick="location.reload()" style="margin-top: 10px;">ğŸ”„ é‡æ–°å¼€å§‹</button>
        </div>

        <div id="reviewSection" style="display: none;">
            <h2 style="margin: 30px 0 20px 0; color: #2c3e50;">ğŸ“š ç­”é¢˜å›é¡¾ä¸è§£æ</h2>
            <div id="reviewContainer"></div>
        </div>
    </div>

<script>
    // éšæœºæ•°ç”Ÿæˆè¾…åŠ©å‡½æ•°
    function randInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    function randChoice(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
    }

    // é¢˜ç›®åº“ç”Ÿæˆå™¨
    function generateQuestionBank() {
        return [
            // --- è®¾è®¡æ–¹æ³• (method) ---
            {
                id: 1,
                category: 'method',
                categoryName: 'è®¾è®¡æ–¹æ³•',
                question: 'åŒçº¿æ€§å˜æ¢æ³•ä¸­ï¼ŒsåŸŸåˆ°zåŸŸçš„æ˜ å°„å…³ç³»ä¸ºï¼š',
                options: [
                    '$s = \\frac{2}{T}\\frac{1-z^{-1}}{1+z^{-1}}$',
                    '$s = \\frac{1}{T}\\ln z$',
                    '$s = \\frac{z-1}{T}$',
                    '$s = \\frac{2}{T}\\frac{1+z^{-1}}{1-z^{-1}}$'
                ],
                correct: 0,
                explanation: 'åŒçº¿æ€§å˜æ¢çš„æ ‡å‡†å…¬å¼æ˜¯ $s = \\frac{2}{T}\\frac{1-z^{-1}}{1+z^{-1}}$ï¼Œå®ƒå°†så¹³é¢çš„æ•´ä¸ªå·¦åŠå¹³é¢æ˜ å°„åˆ°zå¹³é¢çš„å•ä½åœ†å†…ï¼Œæ˜¯ä¸€ä¸€æ˜ å°„ã€‚'
            },
            {
                id: 2,
                category: 'method',
                categoryName: 'è®¾è®¡æ–¹æ³•',
                question: 'åœ¨åŒçº¿æ€§å˜æ¢æ³•ä¸­ï¼Œé¢‘ç‡é¢„ç•¸å˜å…¬å¼ä¸ºï¼š',
                options: [
                    '$\\Omega = \\frac{2}{T}\\tan\\left(\\frac{\\omega}{2}\\right)$',
                    '$\\Omega = \\frac{\\omega}{T}$',
                    '$\\Omega = \\frac{2}{T}\\sin\\left(\\frac{\\omega}{2}\\right)$',
                    '$\\Omega = \\frac{1}{T}\\arctan(\\omega)$'
                ],
                correct: 0,
                explanation: 'é¢‘ç‡é¢„ç•¸å˜å…¬å¼ $\\Omega = \\frac{2}{T}\\tan(\\omega/2)$ ç”¨äºè¡¥å¿åŒçº¿æ€§å˜æ¢å¸¦æ¥çš„éçº¿æ€§é¢‘ç‡å‹ç¼©æ•ˆåº”ï¼Œç¡®ä¿å…³é”®é¢‘ç‡ç‚¹ç²¾ç¡®æ˜ å°„ã€‚'
            },
            {
                id: 3,
                category: 'method',
                categoryName: 'è®¾è®¡æ–¹æ³•',
                question: 'è„‰å†²å“åº”ä¸å˜æ³•(IIM)çš„ä¸»è¦ç¼ºç‚¹æ˜¯ï¼š',
                options: [
                    'å¯èƒ½äº§ç”Ÿé¢‘ç‡æ··å ',
                    'ä¸èƒ½ä¿æŒç³»ç»Ÿç¨³å®šæ€§',
                    'è®¡ç®—è¿‡äºå¤æ‚',
                    'ä¸èƒ½ç”¨äºä½é€šæ»¤æ³¢å™¨è®¾è®¡'
                ],
                correct: 0,
                explanation: 'è„‰å†²å“åº”ä¸å˜æ³•å°†så¹³é¢æ˜ å°„åˆ°zå¹³é¢æ—¶æ˜¯å¤šå€¼æ˜ å°„ï¼ˆ$s_k = s + j\\frac{2\\pi k}{T}$ï¼‰ï¼Œå½“æ¨¡æ‹Ÿæ»¤æ³¢å™¨é¢‘ç‡å“åº”åœ¨é«˜é¢‘å¤„è¡°å‡ä¸å¤Ÿå¿«æ—¶ï¼Œä¼šäº§ç”Ÿé¢‘è°±æ··å ã€‚'
            },
            {
                id: 4,
                category: 'method',
                categoryName: 'è®¾è®¡æ–¹æ³•',
                question: 'åŒçº¿æ€§å˜æ¢æ³•ç›¸æ¯”è„‰å†²å“åº”ä¸å˜æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯ï¼š',
                options: [
                    'ä¸ä¼šäº§ç”Ÿé¢‘ç‡æ··å ',
                    'è®¡ç®—æ›´ç®€å•',
                    'ä¸éœ€è¦é¢„ç•¸å˜',
                    'ç›¸ä½å“åº”æ›´å¥½'
                ],
                correct: 0,
                explanation: 'åŒçº¿æ€§å˜æ¢å°†æ•´ä¸ªså¹³é¢å‹ç¼©æ˜ å°„åˆ°zå¹³é¢ï¼Œæ˜¯ä¸€ä¸€å¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œå› æ­¤ä¸ä¼šäº§ç”Ÿé¢‘ç‡æ··å ç°è±¡ï¼Œè¿™æ˜¯å…¶æœ€å¤§ä¼˜ç‚¹ã€‚'
            },
            {
                id: 5,
                category: 'method',
                categoryName: 'è®¾è®¡æ–¹æ³•',
                question: 'è„‰å†²å“åº”ä¸å˜æ³•æœ€é€‚åˆè®¾è®¡å“ªç§ç±»å‹çš„æ»¤æ³¢å™¨ï¼Ÿ',
                options: [
                    'ä½é€šæ»¤æ³¢å™¨',
                    'é«˜é€šæ»¤æ³¢å™¨',
                    'å¸¦é˜»æ»¤æ³¢å™¨',
                    'å…¨é€šæ»¤æ³¢å™¨'
                ],
                correct: 0,
                explanation: 'è„‰å†²å“åº”ä¸å˜æ³•å®¹æ˜“äº§ç”Ÿé¢‘ç‡æ··å ï¼Œè€Œä½é€šæ»¤æ³¢å™¨åœ¨é«˜é¢‘å¤„è¡°å‡è¾ƒå¤§ï¼Œæ··å å½±å“è¾ƒå°ï¼Œå› æ­¤æœ€é€‚åˆè®¾è®¡ä½é€šæ»¤æ³¢å™¨ã€‚é«˜é€šå’Œå¸¦é˜»æ»¤æ³¢å™¨åœ¨é«˜é¢‘å¤„å¢ç›Šä¸è¡°å‡ï¼Œæ··å ä¸¥é‡ã€‚'
            },

            // --- é¢‘ç‡å˜æ¢ (transform) ---
            {
                id: 6,
                category: 'transform',
                categoryName: 'é¢‘ç‡å˜æ¢',
                question: 'å°†ä½é€šåŸå‹å˜æ¢ä¸ºé«˜é€šæ»¤æ³¢å™¨çš„såŸŸå˜æ¢å…¬å¼ä¸ºï¼š',
                options: [
                    '$s \\to \\frac{\\Omega_c}{s}$',
                    '$s \\to \\frac{s}{\\Omega_c}$',
                    '$s \\to \\frac{s^2 + \\Omega_0^2}{Bs}$',
                    '$s \\to \\frac{Bs}{s^2 + \\Omega_0^2}$'
                ],
                correct: 0,
                explanation: 'ä½é€šåˆ°é«˜é€šçš„å˜æ¢å…¬å¼æ˜¯ $s \\to \\Omega_c/s$ï¼Œè¿™ä¸ªå˜æ¢å°†ä½é¢‘æ˜ å°„åˆ°é«˜é¢‘ï¼Œé«˜é¢‘æ˜ å°„åˆ°ä½é¢‘ï¼Œå®ç°é¢‘ç‡å“åº”çš„"ç¿»è½¬"ã€‚'
            },
            {
                id: 7,
                category: 'transform',
                categoryName: 'é¢‘ç‡å˜æ¢',
                question: 'å°†ä½é€šåŸå‹å˜æ¢ä¸ºå¸¦é€šæ»¤æ³¢å™¨çš„såŸŸå˜æ¢å…¬å¼ä¸ºï¼š',
                options: [
                    '$s \\to \\frac{s^2 + \\Omega_0^2}{Bs}$',
                    '$s \\to \\frac{Bs}{s^2 + \\Omega_0^2}$',
                    '$s \\to \\frac{\\Omega_c}{s}$',
                    '$s \\to \\frac{s}{\\Omega_c}$'
                ],
                correct: 0,
                explanation: 'ä½é€šåˆ°å¸¦é€šçš„å˜æ¢å…¬å¼æ˜¯ $s \\to \\frac{s^2 + \\Omega_0^2}{Bs}$ï¼Œå…¶ä¸­ $\\Omega_0 = \\sqrt{\\Omega_1\\Omega_2}$ æ˜¯å‡ ä½•ä¸­å¿ƒé¢‘ç‡ï¼Œ$B = \\Omega_2 - \\Omega_1$ æ˜¯å¸¦å®½ã€‚'
            },
            {
                id: 8,
                category: 'transform',
                categoryName: 'é¢‘ç‡å˜æ¢',
                question: 'å°†ä½é€šåŸå‹å˜æ¢ä¸ºå¸¦é˜»æ»¤æ³¢å™¨çš„såŸŸå˜æ¢å…¬å¼ä¸ºï¼š',
                options: [
                    '$s \\to \\frac{Bs}{s^2 + \\Omega_0^2}$',
                    '$s \\to \\frac{s^2 + \\Omega_0^2}{Bs}$',
                    '$s \\to \\frac{\\Omega_c}{s}$',
                    '$s \\to s \\cdot \\Omega_c$'
                ],
                correct: 0,
                explanation: 'ä½é€šåˆ°å¸¦é˜»çš„å˜æ¢å…¬å¼æ˜¯ $s \\to \\frac{Bs}{s^2 + \\Omega_0^2}$ï¼Œè¿™æ˜¯å¸¦é€šå˜æ¢çš„å€’æ•°å½¢å¼ï¼Œå°†é€šå¸¦å’Œé˜»å¸¦çš„ä½ç½®äº’æ¢ã€‚'
            },
            {
                id: 9,
                category: 'transform',
                categoryName: 'é¢‘ç‡å˜æ¢',
                question: 'å°†Né˜¶ä½é€šåŸå‹è½¬æ¢ä¸ºå¸¦é€šæ»¤æ³¢å™¨åï¼Œæ»¤æ³¢å™¨é˜¶æ•°å˜ä¸ºï¼š',
                options: [
                    '$2N$',
                    '$N$',
                    '$N^2$',
                    '$N/2$'
                ],
                correct: 0,
                explanation: 'ä½é€šåˆ°å¸¦é€šçš„å˜æ¢å…¬å¼ä¸­åŒ…å« $s^2$ é¡¹ï¼Œä½¿å¾—æ¯ä¸ªæç‚¹å˜æˆä¸€å¯¹æç‚¹ï¼Œå› æ­¤é˜¶æ•°ç¿»å€å˜ä¸º $2N$ã€‚å¸¦é˜»å˜æ¢åŒæ ·å¦‚æ­¤ã€‚'
            },
            {
                id: 10,
                category: 'transform',
                categoryName: 'é¢‘ç‡å˜æ¢',
                question: 'æ•°å­—é«˜é€šæ»¤æ³¢å™¨çš„é›¶ç‚¹ä½ç½®åœ¨ï¼š',
                options: [
                    '$z = 1$ï¼ˆç›´æµå¤„ï¼‰',
                    '$z = -1$ï¼ˆNyquisté¢‘ç‡å¤„ï¼‰',
                    'å•ä½åœ†ä¸Šå‡åŒ€åˆ†å¸ƒ',
                    'åŸç‚¹å¤„'
                ],
                correct: 0,
                explanation: 'é«˜é€šæ»¤æ³¢å™¨éœ€è¦åœ¨ç›´æµå¤„å®Œå…¨æŠ‘åˆ¶ä¿¡å·ï¼Œå› æ­¤åœ¨ $z=1$ï¼ˆå¯¹åº” $\\omega=0$ï¼‰å¤„æœ‰é›¶ç‚¹ã€‚Né˜¶é«˜é€šæ»¤æ³¢å™¨æœ‰Né‡é›¶ç‚¹åœ¨z=1å¤„ã€‚'
            },

            // --- Butterworth (butter) ---
            {
                id: 11,
                category: 'butter',
                categoryName: 'Butterworth',
                question: 'Butterworthæ»¤æ³¢å™¨çš„ä¸»è¦ç‰¹ç‚¹æ˜¯ï¼š',
                options: [
                    'é€šå¸¦å†…æœ€å¤§å¹³å¦',
                    'è¿‡æ¸¡å¸¦æœ€çª„',
                    'é€šå¸¦å†…ç­‰æ³¢çº¹',
                    'é˜»å¸¦å†…ç­‰æ³¢çº¹'
                ],
                correct: 0,
                explanation: 'Butterworthæ»¤æ³¢å™¨ä¹Ÿç§°ä¸ºæœ€å¤§å¹³å¦æ»¤æ³¢å™¨ï¼Œå…¶ç‰¹ç‚¹æ˜¯é€šå¸¦å†…å¹…é¢‘å“åº”æœ€å¤§ç¨‹åº¦åœ°å¹³å¦ï¼Œæ²¡æœ‰æ³¢çº¹ã€‚ç›¸æ¯”Chebyshevæ»¤æ³¢å™¨ï¼Œè¿‡æ¸¡å¸¦è¾ƒå®½ã€‚'
            },
            {
                id: 12,
                category: 'butter',
                categoryName: 'Butterworth',
                question: 'Chebyshev Iå‹æ»¤æ³¢å™¨çš„ç‰¹ç‚¹æ˜¯ï¼š',
                options: [
                    'é€šå¸¦å†…ç­‰æ³¢çº¹',
                    'é˜»å¸¦å†…ç­‰æ³¢çº¹',
                    'é€šå¸¦å’Œé˜»å¸¦å‡æœ€å¤§å¹³å¦',
                    'è¿‡æ¸¡å¸¦æœ€å®½'
                ],
                correct: 0,
                explanation: 'Chebyshev Iå‹æ»¤æ³¢å™¨åœ¨é€šå¸¦å†…å‘ˆç°ç­‰æ³¢çº¹ç‰¹æ€§ï¼Œé˜»å¸¦å•è°ƒä¸‹é™ã€‚ç›¸æ¯”Butterworthï¼Œå¯ä»¥åœ¨ç›¸åŒé˜¶æ•°ä¸‹è·å¾—æ›´çª„çš„è¿‡æ¸¡å¸¦ã€‚'
            },
            {
                id: 13,
                category: 'butter',
                categoryName: 'Butterworth',
                question: 'å¢åŠ Butterworthæ»¤æ³¢å™¨çš„é˜¶æ•°Nï¼Œä¼šå¯¼è‡´ï¼š',
                options: [
                    'è¿‡æ¸¡å¸¦å˜çª„',
                    'è¿‡æ¸¡å¸¦å˜å®½',
                    'é€šå¸¦æ³¢çº¹å¢å¤§',
                    'é˜»å¸¦è¡°å‡å‡å°'
                ],
                correct: 0,
                explanation: 'Butterworthæ»¤æ³¢å™¨é˜¶æ•°è¶Šé«˜ï¼Œé¢‘ç‡å“åº”åœ¨æˆªæ­¢é¢‘ç‡å¤„ä¸‹é™è¶Šé™¡å³­ï¼Œè¿‡æ¸¡å¸¦è¶Šçª„ï¼Œé€‰æ‹©æ€§è¶Šå¥½ã€‚ä½†è®¡ç®—å¤æ‚åº¦ä¹Ÿä¼šå¢åŠ ã€‚'
            },
            {
                id: 14,
                category: 'butter',
                categoryName: 'Butterworth',
                question: 'IIRæ•°å­—æ»¤æ³¢å™¨ç¨³å®šçš„å……è¦æ¡ä»¶æ˜¯ï¼š',
                options: [
                    'æ‰€æœ‰æç‚¹åœ¨å•ä½åœ†å†…',
                    'æ‰€æœ‰æç‚¹åœ¨å•ä½åœ†ä¸Š',
                    'æ‰€æœ‰é›¶ç‚¹åœ¨å•ä½åœ†å†…',
                    'æ‰€æœ‰æç‚¹åœ¨å·¦åŠså¹³é¢'
                ],
                correct: 0,
                explanation: 'æ•°å­—ç³»ç»Ÿç¨³å®šçš„å……è¦æ¡ä»¶æ˜¯æ‰€æœ‰æç‚¹éƒ½ä½äºzå¹³é¢å•ä½åœ†å†…éƒ¨ï¼Œå³æç‚¹æ¨¡å€¼å°äº1ã€‚è¿™ä¿è¯äº†ç³»ç»Ÿçš„å†²æ¿€å“åº”æ”¶æ•›ã€‚'
            },
            {
                id: 15,
                category: 'butter',
                categoryName: 'Butterworth',
                question: 'åŒçº¿æ€§å˜æ¢å°†så¹³é¢çš„è™šè½´æ˜ å°„åˆ°zå¹³é¢çš„ï¼š',
                options: [
                    'å•ä½åœ†',
                    'è™šè½´',
                    'å®è½´',
                    'å·¦åŠå¹³é¢'
                ],
                correct: 0,
                explanation: 'åŒçº¿æ€§å˜æ¢å°†så¹³é¢çš„è™šè½´ï¼ˆ$j\\Omega$è½´ï¼‰ä¸€ä¸€æ˜ å°„åˆ°zå¹³é¢çš„å•ä½åœ†ä¸Šï¼Œå°†æ•´ä¸ªså¹³é¢çš„å·¦åŠå¹³é¢æ˜ å°„åˆ°å•ä½åœ†å†…ã€‚'
            },

            // --- è®¡ç®—ä¸åº”ç”¨ (calc) ---
            (function() {
                const f1 = randChoice([100, 200, 500, 1000]);
                const f2 = f1 * 2;
                const f0 = Math.sqrt(f1 * f2);
                const fArith = (f1 + f2) / 2;
                return {
                    id: 16,
                    category: 'calc',
                    categoryName: 'è®¡ç®—ä¸åº”ç”¨',
                    question: `å¸¦é€šæ»¤æ³¢å™¨çš„é€šå¸¦è¾¹ç•Œé¢‘ç‡ä¸º $f_1 = ${f1}$ Hz å’Œ $f_2 = ${f2}$ Hzï¼Œåˆ™å‡ ä½•ä¸­å¿ƒé¢‘ç‡ $f_0$ ä¸ºï¼š`,
                    options: [
                        `$${f0.toFixed(1)}$ Hz`,
                        `$${fArith.toFixed(1)}$ Hz`,
                        `$${(f2-f1).toFixed(1)}$ Hz`,
                        `$${(f1*f2/1000).toFixed(1)}$ kHz`
                    ],
                    correct: 0,
                    explanation: `å‡ ä½•ä¸­å¿ƒé¢‘ç‡ $f_0 = \\sqrt{f_1 \\times f_2} = \\sqrt{${f1} \\times ${f2}} = ${f0.toFixed(1)}$ Hzã€‚æ³¨æ„æ˜¯å‡ ä½•å¹³å‡è€Œéç®—æœ¯å¹³å‡ ${fArith} Hzã€‚`
                };
            })(),
            (function() {
                const fs = randChoice([1000, 2000, 4000, 8000]);
                const fc = fs / 8;
                const omegaPi = (2 * fc / fs);
                return {
                    id: 17,
                    category: 'calc',
                    categoryName: 'è®¡ç®—ä¸åº”ç”¨',
                    question: `é‡‡æ ·é¢‘ç‡ $f_s = ${fs}$ Hzï¼Œæˆªæ­¢é¢‘ç‡ $f_c = ${fc}$ Hzï¼Œå¯¹åº”çš„æ•°å­—è§’é¢‘ç‡ $\\omega$ ä¸ºï¼š`,
                    options: [
                        `$${omegaPi}\\pi$ rad`,
                        `$${fc}$ rad`,
                        `$${(fc/fs).toFixed(3)}\\pi$ rad`,
                        `$${(4*fc/fs)}\\pi$ rad`
                    ],
                    correct: 0,
                    explanation: `æ•°å­—è§’é¢‘ç‡ $\\omega = \\frac{2\\pi f_c}{f_s} = \\frac{2\\pi \\times ${fc}}{${fs}} = ${omegaPi}\\pi$ radã€‚`
                };
            })(),
            (function() {
                const fs = randChoice([1000, 2000, 4000]);
                const fc = fs / 5;
                const Wn = (fc / (fs/2)).toFixed(1);
                return {
                    id: 18,
                    category: 'calc',
                    categoryName: 'è®¡ç®—ä¸åº”ç”¨',
                    question: `é‡‡æ ·é¢‘ç‡ $f_s = ${fs}$ Hzï¼Œæˆªæ­¢é¢‘ç‡ $f_c = ${fc}$ Hzï¼ŒMATLABä¸­butterå‡½æ•°çš„å½’ä¸€åŒ–é¢‘ç‡ Wn ä¸ºï¼š`,
                    options: [
                        `$${Wn}$`,
                        `$${fc}$`,
                        `$${(fc/fs).toFixed(2)}$`,
                        `$${(2*fc/fs).toFixed(2)}\\pi$`
                    ],
                    correct: 0,
                    explanation: `MATLABä¸­å½’ä¸€åŒ–é¢‘ç‡ $Wn = f_c / (f_s/2) = ${fc} / ${fs/2} = ${Wn}$ï¼ŒèŒƒå›´æ˜¯(0,1)ï¼Œå¯¹åº”é¢‘ç‡èŒƒå›´(0, $f_s/2$)ã€‚`
                };
            })(),
            {
                id: 19,
                category: 'calc',
                categoryName: 'è®¡ç®—ä¸åº”ç”¨',
                question: 'æ•°å­—å¸¦é˜»æ»¤æ³¢å™¨çš„é›¶ç‚¹ä½äºï¼š',
                options: [
                    'å•ä½åœ†ä¸Šï¼Œå¯¹åº”é™·æ³¢é¢‘ç‡',
                    '$z = 1$ å¤„',
                    '$z = -1$ å¤„',
                    'å•ä½åœ†å†…éƒ¨'
                ],
                correct: 0,
                explanation: 'å¸¦é˜»æ»¤æ³¢å™¨çš„é›¶ç‚¹ä½äºå•ä½åœ†ä¸Šï¼Œè§’åº¦å¯¹åº”è¦æŠ‘åˆ¶çš„é¢‘ç‡ $\\omega_0$ï¼Œå³ $z = e^{\\pm j\\omega_0}$ã€‚è¿™ä½¿å¾—åœ¨è¯¥é¢‘ç‡å¤„å¢ç›Šä¸ºé›¶ã€‚'
            },
            (function() {
                const freq = randChoice([50, 60]);
                return {
                    id: 20,
                    category: 'calc',
                    categoryName: 'è®¡ç®—ä¸åº”ç”¨',
                    question: `è®¾è®¡é™·æ³¢æ»¤æ³¢å™¨æ¶ˆé™¤${freq}Hzå·¥é¢‘å¹²æ‰°ï¼Œåº”é€‰æ‹©çš„æ»¤æ³¢å™¨ç±»å‹æ˜¯ï¼š`,
                    options: [
                        'å¸¦é˜»æ»¤æ³¢å™¨',
                        'ä½é€šæ»¤æ³¢å™¨',
                        'é«˜é€šæ»¤æ³¢å™¨',
                        'å¸¦é€šæ»¤æ³¢å™¨'
                    ],
                    correct: 0,
                    explanation: `é™·æ³¢æ»¤æ³¢å™¨æ˜¯çª„å¸¦å¸¦é˜»æ»¤æ³¢å™¨ï¼Œä¸“é—¨ç”¨äºæ¶ˆé™¤ç‰¹å®šé¢‘ç‡çš„å¹²æ‰°ä¿¡å·ã€‚${freq}Hzæ˜¯ç”µç½‘å·¥é¢‘ï¼ˆä¸­å›½ä¸º50Hzï¼Œç¾å›½ä¸º60Hzï¼‰ï¼Œä½¿ç”¨å¸¦é˜»æ»¤æ³¢å™¨å¯ä»¥ç²¾ç¡®æ¶ˆé™¤ã€‚`
                };
            })()
        ];
    }

    let originalQuestions = [];
    let questions = [];
    let currentQuestion = 0;
    let userAnswers = new Array(20).fill(null);
    let submitted = false;
    let studentInfo = { id: '', name: '' };

    // Fisher-Yates æ´—ç‰Œç®—æ³•
    function shuffleArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
    }

    // åˆå§‹åŒ–é¢˜ç›®ï¼šæ‰“ä¹±é¢˜ç›®é¡ºåº + æ‰“ä¹±é€‰é¡¹é¡ºåº
    function shuffleQuestions() {
        originalQuestions = generateQuestionBank();
        questions = shuffleArray(originalQuestions).map(q => {
            const optionsWithIndex = q.options.map((option, index) => ({
                text: option,
                originalIndex: index
            }));
            const shuffledOptions = shuffleArray(optionsWithIndex);
            const newCorrectIndex = shuffledOptions.findIndex(
                opt => opt.originalIndex === q.correct
            );
            return {
                ...q,
                options: shuffledOptions.map(opt => opt.text),
                correct: newCorrectIndex
            };
        });
    }

    function startExam() {
        const studentId = document.getElementById('studentId').value.trim();
        const studentName = document.getElementById('studentName').value.trim();
        if (!studentId || !studentName) {
            alert('è¯·å¡«å†™å®Œæ•´çš„å­¦å·å’Œå§“åï¼');
            return;
        }
        studentInfo.id = studentId;
        studentInfo.name = studentName;
        shuffleQuestions();
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('examScreen').style.display = 'block';
        init();
    }

    function init() {
        displayQuestion();
        updateButtons();
        updateProgress();
    }

    function displayQuestion() {
        const q = questions[currentQuestion];
        const container = document.getElementById('questionContainer');
        let html = `
            <div class="question-card ${userAnswers[currentQuestion] !== null ? 'answered' : ''}">
                <div class="question-header">
                    <span class="question-number">ç¬¬ ${currentQuestion + 1} é¢˜</span>
                    <span class="question-category ${q.category}">${q.categoryName}</span>
                </div>
                <div class="question-text">${q.question}</div>
                <div class="options">`;

        q.options.forEach((option, index) => {
            const selected = userAnswers[currentQuestion] === index ? 'selected' : '';
            const label = String.fromCharCode(65 + index);
            html += `
                <div class="option ${selected}" onclick="selectOption(${index})">
                    <div class="option-label">${label}</div>
                    <div class="option-text">${option}</div>
                </div>`;
        });
        html += `</div><div class="explanation" id="explanation"></div></div>`;
        container.innerHTML = html;
        if (window.MathJax) {
            MathJax.typesetPromise([container]).catch((err) => console.log(err));
        }
    }

    function selectOption(index) {
        if (submitted) return;
        userAnswers[currentQuestion] = index;
        displayQuestion();
        updateProgress();
    }

    function submitAnswer() {
        if (userAnswers[currentQuestion] === null) {
            alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
            return;
        }
        const q = questions[currentQuestion];
        const userAnswer = userAnswers[currentQuestion];
        const isCorrect = userAnswer === q.correct;
        const options = document.querySelectorAll('.option');
        options.forEach((option, index) => {
            if (index === q.correct) {
                option.classList.add('correct');
            } else if (index === userAnswer && !isCorrect) {
                option.classList.add('incorrect');
            }
            option.style.pointerEvents = 'none';
        });
        const explanation = document.getElementById('explanation');
        const icon = isCorrect ? 'âœ“' : 'âœ—';
        const style = isCorrect ? 'color: #28a745;' : 'color: #dc3545;';
        explanation.innerHTML = `
            <h4><span style="${style}">${icon}</span> ${isCorrect ? 'å›ç­”æ­£ç¡®ï¼' : 'å›ç­”é”™è¯¯ï¼'}</h4>
            <p><strong>æ­£ç¡®ç­”æ¡ˆï¼š</strong>${String.fromCharCode(65 + q.correct)}</p>
            <p><strong>è§£æï¼š</strong>${q.explanation}</p>`;
        explanation.classList.add('show');
        if (window.MathJax) {
            MathJax.typesetPromise([explanation]).catch((err) => console.log(err));
        }
        document.getElementById('submitBtn').style.display = 'none';
        document.getElementById('nextBtn').style.display = 'inline-block';
        if (currentQuestion === questions.length - 1) {
            document.getElementById('finishBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
        }
    }

    function nextQuestion() {
        if (currentQuestion < questions.length - 1) {
            currentQuestion++;
            displayQuestion();
            updateButtons();
            window.scrollTo(0, 0);
        }
    }

    function previousQuestion() {
        if (currentQuestion > 0) {
            currentQuestion--;
            displayQuestion();
            updateButtons();
            window.scrollTo(0, 0);
        }
    }

    function updateButtons() {
        document.getElementById('prevBtn').disabled = currentQuestion === 0;
        document.getElementById('submitBtn').style.display = 'inline-block';
        document.getElementById('nextBtn').style.display = 'none';
        document.getElementById('finishBtn').style.display = 'none';
        
        if (document.querySelector('.explanation.show')) {
            document.getElementById('submitBtn').style.display = 'none';
            if (currentQuestion === questions.length - 1) {
                document.getElementById('finishBtn').style.display = 'inline-block';
            } else {
                document.getElementById('nextBtn').style.display = 'inline-block';
            }
        }
    }

    function updateProgress() {
        const answered = userAnswers.filter(a => a !== null).length;
        const progressBar = document.getElementById('progressBar');
        const percentage = (answered / questions.length) * 100;
        progressBar.style.width = percentage + '%';
        progressBar.textContent = `${answered}/${questions.length} å·²å®Œæˆ`;
    }

    function finishExam() {
        const unanswered = userAnswers.filter(a => a === null).length;
        if (unanswered > 0) {
            if (!confirm(`è¿˜æœ‰ ${unanswered} é¢˜æœªä½œç­”ï¼Œç¡®å®šè¦æäº¤å—ï¼Ÿ`)) {
                return;
            }
        }
        submitted = true;
        calculateResults();
        document.getElementById('examScreen').style.display = 'none';
        document.getElementById('resultPanel').classList.add('show');
    }

    function calculateResults() {
        let correctCount = 0;
        let categoryScores = {
            method: { correct: 0, total: 0 },
            transform: { correct: 0, total: 0 },
            butter: { correct: 0, total: 0 },
            calc: { correct: 0, total: 0 },
            app: { correct: 0, total: 0 }
        };
        questions.forEach((q, index) => {
            const isCorrect = userAnswers[index] === q.correct;
            if (isCorrect) correctCount++;
            if (categoryScores[q.category]) {
                categoryScores[q.category].total++;
                if (isCorrect) categoryScores[q.category].correct++;
            }
        });

        const percentage = (correctCount / questions.length * 100).toFixed(1);
        document.getElementById('resultStudentId').textContent = studentInfo.id;
        document.getElementById('resultStudentName').textContent = studentInfo.name;
        document.getElementById('resultScore').textContent = `${correctCount}/${questions.length}`;
        document.getElementById('accuracyRate').textContent = percentage + '%';
        
        let message = '';
        if (percentage >= 90) message = 'ğŸ‰ ä¼˜ç§€ï¼ä½ å¯¹IIRæ»¤æ³¢å™¨è®¾è®¡æŒæ¡å¾—éå¸¸æ‰å®ï¼';
        else if (percentage >= 80) message = 'ğŸ‘ è‰¯å¥½ï¼ç»§ç»­ä¿æŒï¼Œæ³¨æ„ç»†èŠ‚éƒ¨åˆ†ï¼';
        else if (percentage >= 70) message = 'âœ“ åŠæ ¼ï¼åŸºç¡€è¿˜å¯ä»¥ï¼Œå»ºè®®å¤šåšå˜æ¢å…¬å¼ç»ƒä¹ ã€‚';
        else if (percentage >= 60) message = 'âš ï¸ åˆšåŠæ ¼ï¼Œè¯·é‡ç‚¹å¤ä¹ åŒçº¿æ€§å˜æ¢æ³•ï¼';
        else message = 'âŒ éœ€è¦åŠªåŠ›ï¼è¯·åŠ¡å¿…å¤ä¹ ç¬¬å…­ç« æ•™å­¦ææ–™ï¼';
        document.getElementById('resultMessage').textContent = message;
        
        document.getElementById('methodScore').textContent = `${categoryScores.method.correct}/${categoryScores.method.total}`;
        document.getElementById('transformScore').textContent = `${categoryScores.transform.correct}/${categoryScores.transform.total}`;
        document.getElementById('butterScore').textContent = `${categoryScores.butter.correct}/${categoryScores.butter.total}`;
        const calcTotal = categoryScores.calc.total + categoryScores.app.total;
        const calcCorrect = categoryScores.calc.correct + categoryScores.app.correct;
        document.getElementById('calcScore').textContent = `${calcCorrect}/${calcTotal}`;
    }

    function showReview() {
        const reviewSection = document.getElementById('reviewSection');
        const reviewContainer = document.getElementById('reviewContainer');
        let html = '';
        questions.forEach((q, index) => {
            const userAnswer = userAnswers[index];
            const isCorrect = userAnswer === q.correct;
            const statusClass = isCorrect ? 'correct' : 'wrong';
            const statusText = isCorrect ? 'âœ“ æ­£ç¡®' : 'âœ— é”™è¯¯';
            html += `
                <div class="review-question">
                    <div class="review-header">
                        <div>
                            <span class="question-number">ç¬¬ ${index + 1} é¢˜</span>
                            <span class="question-category ${q.category}">${q.categoryName}</span>
                        </div>
                        <span class="review-status ${statusClass}">${statusText}</span>
                    </div>
                    <div class="question-text">${q.question}</div>
                    <div style="margin-top: 15px;">
                        <p><strong>ä½ çš„ç­”æ¡ˆï¼š</strong>${userAnswer !== null ? String.fromCharCode(65 + userAnswer) + '. ' + q.options[userAnswer] : 'æœªä½œç­”'}</p>
                        <p style="color: #28a745;"><strong>æ­£ç¡®ç­”æ¡ˆï¼š</strong>${String.fromCharCode(65 + q.correct)}. ${q.options[q.correct]}</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-top: 15px;">
                        <strong>ğŸ“– è§£æï¼š</strong>${q.explanation}
                    </div>
                </div>`;
        });
        reviewContainer.innerHTML = html;
        reviewSection.style.display = 'block';
        if (window.MathJax) {
            MathJax.typesetPromise([reviewContainer]).catch((err) => console.log(err));
        }
        reviewSection.scrollIntoView({ behavior: 'smooth' });
    }
</script>
</body>
</html>
