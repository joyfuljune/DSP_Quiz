<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—é«˜é€šã€å¸¦é€šå’Œå¸¦é˜»æ»¤æ³¢å™¨çš„è®¾è®¡</title>
    
    <!-- MathJax é…ç½® -->
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      svg: {
        fontCache: 'global',
        scale: 1.0
      }
    };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <style>
        /* ==================== å…¨å±€æ ·å¼ ==================== */
        * { box-sizing: border-box; }
        body { 
            font-family: "Segoe UI", "Microsoft YaHei", sans-serif; 
            line-height: 1.7; 
            color: #2d3436; 
            background: #f5f6fa;
            min-height: 100vh;
            margin: 0; 
            padding: 20px; 
            font-size: 16px;
        }

        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            background-color: #fff; 
            padding: 35px; 
            border-radius: 12px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        /* ==================== ç§‘å­¦é…è‰²æ–¹æ¡ˆ ==================== */
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #16a085;
            --lowpass: #1a5276;      /* æ·±è“ */
            --highpass: #1e8449;     /* æ·±ç»¿ */
            --bandpass: #b9770e;     /* æ·±é‡‘/æ£• */
            --bandstop: #6c3483;     /* æ·±ç´« */
            --border: #bdc3c7;
            --bg-light: #ecf0f1;
            --text-dark: #2c3e50;
            --text-muted: #7f8c8d;
        }

        /* ==================== æ ‡é¢˜æ ·å¼ ==================== */
        h1 { 
            font-size: 26px; 
            color: var(--primary); 
            border-bottom: 2px solid var(--primary); 
            padding-bottom: 15px; 
            margin-bottom: 25px;
            text-align: center;
            font-weight: 600;
        }
        h2 { 
            font-size: 19px; 
            color: #fff; 
            background: var(--primary);
            padding: 12px 20px; 
            border-radius: 6px; 
            margin-top: 40px; 
            margin-bottom: 20px;
            font-weight: 600;
        }
        h3 { 
            font-size: 17px; 
            color: var(--primary); 
            margin-top: 25px; 
            margin-bottom: 12px;
            border-left: 4px solid var(--accent);
            padding-left: 12px;
            font-weight: 600;
        }
        h4 { 
            font-size: 15px; 
            color: var(--secondary); 
            margin: 12px 0 8px 0; 
            font-weight: 600;
        }

        /* ==================== é€šç”¨ç›’å­æ ·å¼ ==================== */
        .intro-box {
            background: #f8f9fa;
            border: 1px solid var(--border);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .formula-box {
            background: #fefefe;
            border: 1px solid #d4ac0d;
            border-left: 4px solid #d4ac0d;
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 4px;
        }
        .formula-box .title {
            font-weight: 600;
            color: #9a7b0a;
            margin-bottom: 12px;
            font-size: 15px;
        }

        .result-box { 
            background: #eafaf1;
            border: 1px solid #27ae60; 
            border-left: 4px solid #27ae60;
            color: #1e8449;
            padding: 15px 18px; 
            border-radius: 4px;
            font-weight: 500;
            margin-top: 12px;
        }

        .warning-box {
            background: #fef9e7;
            border: 1px solid #f4d03f;
            border-left: 4px solid #f4d03f;
            padding: 12px 15px;
            border-radius: 4px;
            margin: 12px 0;
            color: #7d6608;
        }
        .warning-box::before {
            content: "âš  æ³¨æ„ï¼š";
            font-weight: 600;
        }

        .tip-box {
            background: #f4f6f7;
            border-left: 4px solid var(--accent);
            padding: 12px 15px;
            margin: 12px 0;
            border-radius: 0 4px 4px 0;
            color: #1a5276;
        }
        .tip-box::before {
            content: "ğŸ’¡ ";
        }

        /* ==================== 5æ­¥æµç¨‹æ•´åˆæ¨¡å— ==================== */
        .flow-integrated {
            background: #fafbfc;
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            margin: 25px 0;
        }
        
        .flow-row {
            display: flex;
            border-bottom: 1px solid #e8e8e8;
        }
        .flow-row:last-child {
            border-bottom: none;
        }
        .flow-row:nth-child(odd) {
            background: #fff;
        }
        .flow-row:nth-child(even) {
            background: #f8f9fa;
        }
        
        .flow-left {
            width: 280px;
            min-width: 280px;
            padding: 18px 20px;
            background: var(--primary);
            color: #fff;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .flow-row:nth-child(1) .flow-left { background: #1a5276; }
        .flow-row:nth-child(2) .flow-left { background: #1e8449; }
        .flow-row:nth-child(3) .flow-left { background: #b9770e; }
        .flow-row:nth-child(4) .flow-left { background: #6c3483; }
        .flow-row:nth-child(5) .flow-left { background: #2c3e50; }
        
        .flow-number {
            width: 36px;
            height: 36px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            flex-shrink: 0;
        }
        .flow-title {
            font-size: 14px;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .flow-right {
            flex: 1;
            padding: 18px 24px;
            font-size: 14px;
            line-height: 1.7;
            color: var(--text-dark);
        }
        .flow-right ul {
            margin: 8px 0 0 0;
            padding-left: 20px;
        }
        .flow-right li {
            margin: 4px 0;
        }

        /* ==================== è¡¨æ ¼æ ·å¼ ==================== */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 18px 0;
            font-size: 14px;
        }
        th, td {
            border: 1px solid #d5d8dc;
            padding: 12px 14px;
            text-align: center;
        }
        th {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }
        tr:nth-child(even) { background-color: #f8f9fa; }
        tr:hover { background-color: #ebedef; }

        /* ==================== å››ç§æ»¤æ³¢å™¨æ¨¡å—æ ·å¼ ==================== */
        .filter-module {
            border-radius: 8px;
            padding: 0;
            margin: 40px 0;
            overflow: hidden;
            border: 1px solid;
        }
        
        /* ä½é€š - æ·±è“ */
        .module-lp {
            border-color: var(--lowpass);
        }
        .module-lp .module-header { background: var(--lowpass); }
        .module-lp .module-body { background: linear-gradient(180deg, #eaf2f8 0%, #fff 100%); }

        /* é«˜é€š - æ·±ç»¿ */
        .module-hp {
            border-color: var(--highpass);
        }
        .module-hp .module-header { background: var(--highpass); }
        .module-hp .module-body { background: linear-gradient(180deg, #e9f7ef 0%, #fff 100%); }

        /* å¸¦é€š - æ·±é‡‘ */
        .module-bp {
            border-color: var(--bandpass);
        }
        .module-bp .module-header { background: var(--bandpass); }
        .module-bp .module-body { background: linear-gradient(180deg, #fef5e7 0%, #fff 100%); }

        /* å¸¦é˜» - æ·±ç´« */
        .module-bs {
            border-color: var(--bandstop);
        }
        .module-bs .module-header { background: var(--bandstop); }
        .module-bs .module-body { background: linear-gradient(180deg, #f5eef8 0%, #fff 100%); }

        .module-header {
            color: white;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .module-header h3 {
            margin: 0;
            padding: 0;
            border: none;
            color: white;
            font-size: 18px;
        }
        .module-icon { font-size: 28px; }
        .module-subtitle {
            font-size: 13px;
            opacity: 0.9;
            margin-top: 4px;
            font-weight: 400;
        }
        
        .module-body {
            padding: 24px;
        }

        .problem-specs {
            background: rgba(255,255,255,0.8);
            padding: 16px 18px;
            border-radius: 6px;
            margin-bottom: 20px;
            border: 1px solid rgba(0,0,0,0.08);
        }
        .problem-specs ul {
            margin: 8px 0 0 0;
            padding-left: 20px;
        }

        /* ==================== è®¡ç®—æ­¥éª¤ ==================== */
        .calc-section {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            margin: 15px 0;
            overflow: hidden;
        }
        .calc-header {
            padding: 12px 18px;
            background: #f5f6f7;
            border-bottom: 1px solid #e0e0e0;
            font-weight: 600;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
        }
        .calc-header:hover {
            background: #ebedef;
        }
        .calc-header::after {
            content: "â–¼";
            font-size: 11px;
            color: #7f8c8d;
            transition: transform 0.3s;
        }
        .calc-section.active .calc-header::after {
            transform: rotate(180deg);
        }
        .calc-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .calc-section.active .calc-content {
            max-height: 2000px;
        }
        .calc-body {
            padding: 18px;
        }
        .step-item {
            background: #f9fafb;
            border-left: 3px solid var(--accent);
            padding: 12px 16px;
            margin-bottom: 12px;
            border-radius: 0 4px 4px 0;
        }
        .step-item:last-child {
            margin-bottom: 0;
        }

        /* ==================== å¯è§†åŒ–åŒºåŸŸ ==================== */
        .visualization-panel {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
        }
        .viz-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .chart-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        .chart-box {
            flex: 1;
            min-width: 280px;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
            padding: 15px;
        }
        .chart-box canvas {
            width: 100%;
            height: 200px;
            display: block;
        }
        .chart-label {
            text-align: center;
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 10px;
        }

        /* ==================== å¯¼èˆª ==================== */
        .nav-box {
            background: #f8f9fa;
            border: 1px solid var(--border);
            padding: 12px 18px;
            border-radius: 6px;
            margin-bottom: 25px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }
        .nav-box strong { 
            margin-right: 8px; 
            color: var(--text-muted);
            font-size: 13px;
        }
        .nav-box a {
            color: var(--primary);
            text-decoration: none;
            padding: 5px 12px;
            border-radius: 4px;
            font-size: 13px;
            border: 1px solid transparent;
            transition: all 0.2s;
        }
        .nav-box a:hover {
            background: var(--primary);
            color: white;
        }

        /* ==================== ä»£ç å— ==================== */
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 6px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            overflow-x: auto;
            line-height: 1.7;
        }
        .code-block .comment { color: #7f8c8d; }

        /* ==================== å¼ºè°ƒæ–‡å­— ==================== */
        .highlight { color: #c0392b; font-weight: 600; }
        .emp-blue { color: var(--lowpass); font-weight: 600; }
        .emp-green { color: var(--highpass); font-weight: 600; }
        .emp-gold { color: var(--bandpass); font-weight: 600; }
        .emp-purple { color: var(--bandstop); font-weight: 600; }

        /* ==================== åˆ†éš”çº¿ ==================== */
        hr {
            border: none;
            height: 1px;
            background: var(--border);
            margin: 40px 0;
        }

        /* ==================== å“åº”å¼ ==================== */
        @media (max-width: 768px) {
            .container { padding: 20px; }
            .flow-row { flex-direction: column; }
            .flow-left { 
                width: 100%; 
                min-width: unset;
                padding: 14px 18px;
            }
            .chart-container { flex-direction: column; }
            .nav-box { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>æ•°å­—é«˜é€šã€å¸¦é€šå’Œå¸¦é˜»æ»¤æ³¢å™¨çš„è®¾è®¡</h1>

    <!-- å¯¼èˆª -->
    <div class="nav-box">
        <strong>å¿«é€Ÿå¯¼èˆªï¼š</strong>
        <a href="#review">çŸ¥è¯†å›é¡¾</a>
        <a href="#framework">è®¾è®¡æ¡†æ¶</a>
        <a href="#formulas">å˜æ¢å…¬å¼</a>
        <a href="#ex-lp">ä¾‹1Â·ä½é€š</a>
        <a href="#ex-hp">ä¾‹2Â·é«˜é€š</a>
        <a href="#ex-bp">ä¾‹3Â·å¸¦é€š</a>
        <a href="#ex-bs">ä¾‹4Â·å¸¦é˜»</a>
    </div>

    <!-- ==================== çŸ¥è¯†å›é¡¾ ==================== -->
    <section id="review">
    <h2>ä¸€ã€çŸ¥è¯†å›é¡¾ä¸è¡”æ¥</h2>
    
    <div class="intro-box">
        <p>åœ¨å‰é¢çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†ä¸¤ç§æ ¸å¿ƒçš„IIRæ•°å­—æ»¤æ³¢å™¨è®¾è®¡æ–¹æ³•ï¼š</p>
        <ul>
            <li><strong>è„‰å†²å“åº”ä¸å˜æ³• (IIM)</strong>ï¼šé€šè¿‡éƒ¨åˆ†åˆ†å¼å±•å¼€ï¼Œå°†æ¨¡æ‹Ÿæ»¤æ³¢å™¨çš„æç‚¹æ˜ å°„åˆ°æ•°å­—åŸŸ</li>
            <li><strong>åŒçº¿æ€§å˜æ¢æ³• (BLT)</strong>ï¼šé€šè¿‡ $s = \frac{2}{T}\frac{1-z^{-1}}{1+z^{-1}}$ å®ç°såŸŸåˆ°zåŸŸçš„æ˜ å°„</li>
        </ul>
        <p>è¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯<span class="highlight">åŸºäºæ¨¡æ‹Ÿä½é€šæ»¤æ³¢å™¨åŸå‹</span>è¿›è¡Œè®¾è®¡çš„ã€‚ä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦è®¾è®¡<span class="emp-green">é«˜é€š</span>ã€<span class="emp-gold">å¸¦é€š</span>ã€<span class="emp-purple">å¸¦é˜»</span>ç­‰ç±»å‹çš„æ»¤æ³¢å™¨ã€‚</p>
        <p><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong>å¦‚ä½•ä»ä¸€ä¸ªæ¨¡æ‹Ÿä½é€šåŸå‹ï¼Œå¾—åˆ°å…¶ä»–ç±»å‹çš„æ•°å­—æ»¤æ³¢å™¨ï¼Ÿ</p>
    </div>
    </section>

    <!-- ==================== è®¾è®¡æ¡†æ¶ ==================== -->
    <section id="framework">
    <h2>äºŒã€æ€»ä½“è®¾è®¡æ¡†æ¶ï¼ˆ5æ­¥æ³•ï¼‰</h2>

    <div class="flow-integrated">
        <!-- æ­¥éª¤1 -->
        <div class="flow-row">
            <div class="flow-left">
                <div class="flow-number">â‘ </div>
                <div class="flow-title">ç¡®å®šæ•°å­—æ»¤æ³¢å™¨<br>ç±»å‹å’ŒæŠ€æœ¯æŒ‡æ ‡</div>
            </div>
            <div class="flow-right">
                <strong>æ˜ç¡®è®¾è®¡ç›®æ ‡ï¼š</strong>ç¡®å®šæ»¤æ³¢å™¨ç±»å‹ï¼ˆä½é€šLP / é«˜é€šHP / å¸¦é€šBP / å¸¦é˜»BSï¼‰
                <ul>
                    <li><strong>é¢‘ç‡æŒ‡æ ‡</strong>ï¼šé€šå¸¦æˆªæ­¢é¢‘ç‡ $\omega_p$ã€é˜»å¸¦æˆªæ­¢é¢‘ç‡ $\omega_s$ï¼ˆå•ä½ï¼šradï¼ŒèŒƒå›´ $0 \sim \pi$ï¼‰</li>
                    <li><strong>è¡°å‡æŒ‡æ ‡</strong>ï¼šé€šå¸¦æœ€å¤§è¡°å‡ $\alpha_p$ (dB)ã€é˜»å¸¦æœ€å°è¡°å‡ $\alpha_s$ (dB)</li>
                </ul>
            </div>
        </div>
        
        <!-- æ­¥éª¤2 -->
        <div class="flow-row">
            <div class="flow-left">
                <div class="flow-number">â‘¡</div>
                <div class="flow-title">å°†æ•°å­—é¢‘ç‡æŒ‡æ ‡è½¬æ¢<br>ä¸ºæ¨¡æ‹Ÿä½é€šåŸå‹æŒ‡æ ‡</div>
            </div>
            <div class="flow-right">
                <strong>é¢‘ç‡é¢„ç•¸å˜</strong>ï¼ˆåŒçº¿æ€§å˜æ¢çš„æ ¸å¿ƒæ­¥éª¤ï¼‰ï¼š
                <p style="margin:10px 0;">$$\Omega = \frac{2}{T}\tan\left(\frac{\omega}{2}\right)$$</p>
                å°†æ•°å­—åŸŸé¢‘ç‡ $\omega$ æ˜ å°„åˆ°æ¨¡æ‹ŸåŸŸé¢‘ç‡ $\Omega$ï¼Œé¿å…é¢‘ç‡å“åº”å¤±çœŸã€‚ç„¶åæ ¹æ®ç›®æ ‡æ»¤æ³¢å™¨ç±»å‹ï¼Œè¿›ä¸€æ­¥è½¬æ¢ä¸ºç­‰æ•ˆçš„ä½é€šåŸå‹æŒ‡æ ‡ã€‚
            </div>
        </div>
        
        <!-- æ­¥éª¤3 -->
        <div class="flow-row">
            <div class="flow-left">
                <div class="flow-number">â‘¢</div>
                <div class="flow-title">è®¾è®¡å½’ä¸€åŒ–æ¨¡æ‹Ÿ<br>ä½é€šåŸå‹æ»¤æ³¢å™¨</div>
            </div>
            <div class="flow-right">
                <strong>é€‰æ‹©æ»¤æ³¢å™¨ç±»å‹å¹¶è®¡ç®—é˜¶æ•°ï¼š</strong>
                <ul>
                    <li><strong>Butterworth</strong>ï¼šæœ€å¤§å¹³å¦å¹…é¢‘ç‰¹æ€§ï¼Œæ— æ³¢çº¹ï¼Œè¿‡æ¸¡å¸¦è¾ƒå®½</li>
                    <li><strong>Chebyshev Iå‹</strong>ï¼šé€šå¸¦ç­‰æ³¢çº¹ï¼Œè¿‡æ¸¡å¸¦è¾ƒçª„</li>
                    <li><strong>Chebyshev IIå‹</strong>ï¼šé˜»å¸¦ç­‰æ³¢çº¹ï¼Œé€šå¸¦å¹³å¦</li>
                    <li><strong>Elliptic (Cauer)</strong>ï¼šé€šå¸¦é˜»å¸¦å‡ç­‰æ³¢çº¹ï¼Œè¿‡æ¸¡å¸¦æœ€çª„</li>
                </ul>
                å¾—åˆ°å½’ä¸€åŒ–ä¼ é€’å‡½æ•° $H_a(s)$ï¼Œæˆªæ­¢é¢‘ç‡ $\Omega_c = 1$ rad/sã€‚
            </div>
        </div>
        
        <!-- æ­¥éª¤4 -->
        <div class="flow-row">
            <div class="flow-left">
                <div class="flow-number">â‘£</div>
                <div class="flow-title">é€šè¿‡såŸŸé¢‘ç‡å˜æ¢<br>å¾—åˆ°è¿‡æ¸¡å‹æ¨¡æ‹Ÿæ»¤æ³¢å™¨</div>
            </div>
            <div class="flow-right">
                <strong>åº”ç”¨é¢‘ç‡å˜æ¢å…¬å¼</strong>ï¼Œå°†ä½é€šåŸå‹è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ï¼š
                <ul>
                    <li>ä½é€šâ†’ä½é€šï¼š$s \to s/\Omega_c$</li>
                    <li>ä½é€šâ†’é«˜é€šï¼š$s \to \Omega_c/s$</li>
                    <li>ä½é€šâ†’å¸¦é€šï¼š$s \to (s^2+\Omega_0^2)/(Bs)$</li>
                    <li>ä½é€šâ†’å¸¦é˜»ï¼š$s \to Bs/(s^2+\Omega_0^2)$</li>
                </ul>
            </div>
        </div>
        
        <!-- æ­¥éª¤5 -->
        <div class="flow-row">
            <div class="flow-left">
                <div class="flow-number">â‘¤</div>
                <div class="flow-title">åº”ç”¨åŒçº¿æ€§å˜æ¢<br>å¾—åˆ°æ•°å­—æ»¤æ³¢å™¨</div>
            </div>
            <div class="flow-right">
                <strong>såŸŸåˆ°zåŸŸçš„æ˜ å°„ï¼š</strong>
                <p style="margin:10px 0;">$$s = \frac{2}{T}\frac{1-z^{-1}}{1+z^{-1}}$$</p>
                å°†æ¨¡æ‹Ÿæ»¤æ³¢å™¨ä¼ é€’å‡½æ•° $H_a(s)$ è½¬æ¢ä¸ºæ•°å­—æ»¤æ³¢å™¨ä¼ é€’å‡½æ•° $H(z)$ï¼Œå®Œæˆè®¾è®¡ã€‚
            </div>
        </div>
    </div>

    <div class="tip-box">
        åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œæ­¥éª¤â‘¡â‘£â‘¤å¯ä»¥åˆå¹¶â€”â€”ç›´æ¥ä½¿ç”¨MATLABçš„ <code>butter</code>ã€<code>cheby1</code>ã€<code>ellip</code> ç­‰å‡½æ•°ä¸€æ­¥å®Œæˆè®¾è®¡ï¼Œä½†ç†è§£å®Œæ•´æµç¨‹æœ‰åŠ©äºæŒæ¡è®¾è®¡æœ¬è´¨å’Œè°ƒè¯•é—®é¢˜ã€‚
    </div>
    </section>

    <!-- ==================== å˜æ¢å…¬å¼ ==================== -->
    <section id="formulas">
    <h2>ä¸‰ã€é¢‘ç‡å˜æ¢å…¬å¼æ±‡æ€»</h2>

    <h3>såŸŸé¢‘ç‡å˜æ¢ï¼ˆæ¨¡æ‹ŸåŸŸï¼‰</h3>

    <table>
        <tr>
            <th style="width:18%;">å˜æ¢ç±»å‹</th>
            <th style="width:35%;">såŸŸå˜æ¢å…¬å¼</th>
            <th>å‚æ•°è¯´æ˜</th>
        </tr>
        <tr>
            <td><strong class="emp-blue">ä½é€š â†’ ä½é€š</strong></td>
            <td>$s \to \dfrac{s}{\Omega_c}$</td>
            <td>$\Omega_c$ï¼šç›®æ ‡ä½é€šæˆªæ­¢é¢‘ç‡</td>
        </tr>
        <tr>
            <td><strong class="emp-green">ä½é€š â†’ é«˜é€š</strong></td>
            <td>$s \to \dfrac{\Omega_c}{s}$</td>
            <td>$\Omega_c$ï¼šé«˜é€šæˆªæ­¢é¢‘ç‡</td>
        </tr>
        <tr>
            <td><strong class="emp-gold">ä½é€š â†’ å¸¦é€š</strong></td>
            <td>$s \to \dfrac{s^2 + \Omega_0^2}{Bs}$</td>
            <td>$\Omega_0 = \sqrt{\Omega_1\Omega_2}$ï¼ˆå‡ ä½•ä¸­å¿ƒé¢‘ç‡ï¼‰<br>$B = \Omega_2 - \Omega_1$ï¼ˆé€šå¸¦å¸¦å®½ï¼‰</td>
        </tr>
        <tr>
            <td><strong class="emp-purple">ä½é€š â†’ å¸¦é˜»</strong></td>
            <td>$s \to \dfrac{Bs}{s^2 + \Omega_0^2}$</td>
            <td>$\Omega_0 = \sqrt{\Omega_1\Omega_2}$ï¼ˆå‡ ä½•ä¸­å¿ƒé¢‘ç‡ï¼‰<br>$B = \Omega_2 - \Omega_1$ï¼ˆé˜»å¸¦å¸¦å®½ï¼‰</td>
        </tr>
    </table>

    <h3>å…³é”®å…¬å¼</h3>

    <div class="formula-box">
        <div class="title">é¢‘ç‡é¢„ç•¸å˜å…¬å¼</div>
        $$\Omega = \frac{2}{T}\tan\left(\frac{\omega}{2}\right)$$
        <p style="font-size:13px; color:#7f8c8d; margin-top:10px;">$\omega$ï¼šæ•°å­—è§’é¢‘ç‡ (rad)ï¼Œ$\Omega$ï¼šæ¨¡æ‹Ÿè§’é¢‘ç‡ (rad/s)ï¼Œ$T$ï¼šé‡‡æ ·å‘¨æœŸ (s)</p>
    </div>

    <div class="formula-box">
        <div class="title">Butterworthæ»¤æ³¢å™¨é˜¶æ•°å…¬å¼</div>
        $$N \geq \frac{\lg\left[\left(10^{0.1\alpha_s}-1\right)/\left(10^{0.1\alpha_p}-1\right)\right]}{2\lg(\Omega_s/\Omega_p)}$$
        <p style="font-size:13px; color:#7f8c8d; margin-top:10px;">$N$ å–å¤§äºç­‰äºè®¡ç®—ç»“æœçš„æœ€å°æ•´æ•°</p>
    </div>
    </section>

    <hr>

    <!-- ==================== ä¾‹1ï¼šä½é€šæ»¤æ³¢å™¨ ==================== -->
    <section id="ex-lp">
    <div class="filter-module module-lp">
        <div class="module-header">
            <span class="module-icon">â– </span>
            <div>
                <h3>ä¾‹1ï¼šæ•°å­—ä½é€šæ»¤æ³¢å™¨è®¾è®¡</h3>
                <div class="module-subtitle">Lowpass Filter â€” åŸºç¡€è®¾è®¡æµç¨‹å®Œæ•´æ¼”ç¤º</div>
            </div>
        </div>
        
        <div class="module-body">
            <div class="problem-specs">
                <strong>è®¾è®¡æŒ‡æ ‡ï¼š</strong>
                <ul>
                    <li>é‡‡æ ·é¢‘ç‡ $f_s = 1000$ Hzï¼ˆ$T = 0.001$ sï¼‰</li>
                    <li>é€šå¸¦æˆªæ­¢é¢‘ç‡ $f_p = 100$ Hzï¼Œé€šå¸¦è¡°å‡ $\alpha_p \leq 1$ dB</li>
                    <li>é˜»å¸¦æˆªæ­¢é¢‘ç‡ $f_{st} = 200$ Hzï¼Œé˜»å¸¦è¡°å‡ $\alpha_s \geq 15$ dB</li>
                    <li>é‡‡ç”¨Butterworthæ»¤æ³¢å™¨ï¼ŒåŒçº¿æ€§å˜æ¢æ³•</li>
                </ul>
            </div>

            <div class="calc-section active">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 1~2ï¼šé¢‘ç‡è½¬æ¢ä¸é¢„ç•¸å˜</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <h4>Step 1ï¼šè½¬æ¢ä¸ºæ•°å­—è§’é¢‘ç‡</h4>
                            $$\omega_p = \frac{2\pi \times 100}{1000} = 0.2\pi \ \text{rad}, \quad \omega_s = \frac{2\pi \times 200}{1000} = 0.4\pi \ \text{rad}$$
                        </div>
                        <div class="step-item">
                            <h4>Step 2ï¼šé¢‘ç‡é¢„ç•¸å˜</h4>
                            <p>åº”ç”¨å…¬å¼ $\Omega = \frac{2}{T}\tan(\omega/2)$ï¼š</p>
                            $$\Omega_p = 2000 \times \tan(0.1\pi) = 2000 \times 0.3249 = \mathbf{649.8} \ \text{rad/s}$$
                            $$\Omega_s = 2000 \times \tan(0.2\pi) = 2000 \times 0.7265 = \mathbf{1453.1} \ \text{rad/s}$$
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 3ï¼šè®¡ç®—Butterworthé˜¶æ•°</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            $$N \geq \frac{\lg\left[\frac{10^{0.1 \times 15}-1}{10^{0.1 \times 1}-1}\right]}{2\lg(1453.1/649.8)} = \frac{\lg(118.3)}{2\lg(2.236)} = \frac{2.073}{0.699} = 2.97$$
                            <p>å– <span class="highlight">$N = 3$</span>ï¼ˆå‘ä¸Šå–æ•´ï¼‰</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 4~5ï¼šæ„å»ºåŸå‹ä¸åŒçº¿æ€§å˜æ¢</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <h4>Step 4ï¼š3é˜¶Butterworthå½’ä¸€åŒ–ä¼ é€’å‡½æ•°</h4>
                            $$H_a(s) = \frac{1}{(s+1)(s^2+s+1)}$$
                            <p>å»å½’ä¸€åŒ–ï¼š$s \to s/\Omega_c$ï¼Œå– $\Omega_c = \Omega_p = 649.8$ rad/s</p>
                        </div>
                        <div class="step-item">
                            <h4>Step 5ï¼šåŒçº¿æ€§å˜æ¢</h4>
                            <p>ä»£å…¥ $s = 2000 \cdot \frac{1-z^{-1}}{1+z^{-1}}$ï¼Œç»ä»£æ•°è¿ç®—å¾—ï¼š</p>
                        </div>
                        <div class="result-box">
                            <strong>æœ€ç»ˆç»“æœï¼š</strong>$H(z) = \dfrac{0.0181(1+z^{-1})^3}{1 - 1.760z^{-1} + 1.183z^{-2} - 0.278z^{-3}}$
                        </div>
                    </div>
                </div>
            </div>

            <div class="visualization-panel">
                <div class="viz-title">é¢‘ç‡å“åº”ä¸é›¶æç‚¹åˆ†å¸ƒ</div>
                <div class="chart-container">
                    <div class="chart-box">
                        <canvas id="lpMagCanvas"></canvas>
                        <div class="chart-label">å¹…é¢‘å“åº” |H(e<sup>jÏ‰</sup>)|</div>
                    </div>
                    <div class="chart-box">
                        <canvas id="lpPoleCanvas"></canvas>
                        <div class="chart-label">é›¶æç‚¹åˆ†å¸ƒå›¾</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </section>

    <!-- ==================== ä¾‹2ï¼šé«˜é€šæ»¤æ³¢å™¨ ==================== -->
    <section id="ex-hp">
    <div class="filter-module module-hp">
        <div class="module-header">
            <span class="module-icon">â– </span>
            <div>
                <h3>ä¾‹2ï¼šæ•°å­—é«˜é€šæ»¤æ³¢å™¨è®¾è®¡</h3>
                <div class="module-subtitle">Highpass Filter â€” ä½é¢‘ä¿¡å·æ»¤é™¤</div>
            </div>
        </div>
        
        <div class="module-body">
            <div class="problem-specs">
                <strong>è®¾è®¡æŒ‡æ ‡ï¼š</strong>
                <ul>
                    <li>é‡‡æ ·é¢‘ç‡ $f_s = 8000$ Hzï¼ˆ$T = 0.000125$ sï¼‰</li>
                    <li>é€šå¸¦æˆªæ­¢é¢‘ç‡ $f_p = 1500$ Hzï¼Œé€šå¸¦è¡°å‡ $\alpha_p \leq 1$ dB</li>
                    <li>é˜»å¸¦æˆªæ­¢é¢‘ç‡ $f_{st} = 500$ Hzï¼Œé˜»å¸¦è¡°å‡ $\alpha_s \geq 30$ dB</li>
                </ul>
                <div class="warning-box">é«˜é€šæ»¤æ³¢å™¨ä¸­ï¼Œé˜»å¸¦é¢‘ç‡ < é€šå¸¦é¢‘ç‡ï¼Œè¿™ä¸ä½é€šç›¸åã€‚</div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 1~2ï¼šé¢‘ç‡è½¬æ¢ä¸é¢„ç•¸å˜</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <h4>Step 1ï¼šæ•°å­—è§’é¢‘ç‡</h4>
                            $$\omega_p = 0.375\pi \ \text{rad}, \quad \omega_s = 0.125\pi \ \text{rad}$$
                        </div>
                        <div class="step-item">
                            <h4>Step 2ï¼šé¢‘ç‡é¢„ç•¸å˜ï¼ˆc = 2/T = 16000ï¼‰</h4>
                            $$\Omega_p = 16000 \times \tan(0.1875\pi) = \mathbf{10691} \ \text{rad/s}$$
                            $$\Omega_s = 16000 \times \tan(0.0625\pi) = \mathbf{3183} \ \text{rad/s}$$
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 3ï¼šè½¬æ¢ä¸ºç­‰æ•ˆä½é€šåŸå‹æŒ‡æ ‡ï¼ˆå…³é”®æ­¥éª¤ï¼‰</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <p><span class="highlight">é«˜é€šâ†’ä½é€šçš„é¢‘ç‡æ˜ å°„ï¼š</span></p>
                            <p>ä»¤ $\Omega_c = \Omega_p$ï¼Œç­‰æ•ˆä½é€šåŸå‹çš„é€‰æ‹©æ€§å‚æ•°ä¸ºï¼š</p>
                            $$\lambda = \frac{\Omega_c}{\Omega_s} = \frac{10691}{3183} = \mathbf{3.36}$$
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 4~7ï¼šé˜¶æ•°è®¡ç®—ä¸å˜æ¢</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <h4>é˜¶æ•°è®¡ç®—</h4>
                            $$N \geq \frac{\lg(999/0.2589)}{2\lg(3.36)} = \frac{3.586}{1.052} = 3.41 \Rightarrow N = 4$$
                        </div>
                        <div class="step-item">
                            <h4>4é˜¶Butterworthå½’ä¸€åŒ–</h4>
                            $$H_{LP}(s) = \frac{1}{(s^2 + 0.7654s + 1)(s^2 + 1.8478s + 1)}$$
                        </div>
                        <div class="result-box">
                            <strong>æœ€ç»ˆç»“æœï¼š</strong>$H(z) = \dfrac{0.1518(1-z^{-1})^4}{1 - 0.4426z^{-1} + 0.8886z^{-2} - 0.2209z^{-3} + 0.0544z^{-4}}$
                        </div>
                        <div class="tip-box">
                            é«˜é€šæ»¤æ³¢å™¨åˆ†å­ä¸º $(1-z^{-1})^N$ï¼Œåœ¨ $z=1$ï¼ˆ$\omega=0$ï¼‰å¤„æœ‰Né‡é›¶ç‚¹ï¼Œå®Œå…¨æŠ‘åˆ¶ç›´æµåˆ†é‡ã€‚
                        </div>
                    </div>
                </div>
            </div>

            <div class="visualization-panel">
                <div class="viz-title">é¢‘ç‡å“åº”ä¸é›¶æç‚¹åˆ†å¸ƒ</div>
                <div class="chart-container">
                    <div class="chart-box">
                        <canvas id="hpMagCanvas"></canvas>
                        <div class="chart-label">å¹…é¢‘å“åº” |H(e<sup>jÏ‰</sup>)|</div>
                    </div>
                    <div class="chart-box">
                        <canvas id="hpPoleCanvas"></canvas>
                        <div class="chart-label">é›¶æç‚¹åˆ†å¸ƒï¼ˆé›¶ç‚¹åœ¨z=1ï¼‰</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </section>

    <!-- ==================== ä¾‹3ï¼šå¸¦é€šæ»¤æ³¢å™¨ ==================== -->
    <section id="ex-bp">
    <div class="filter-module module-bp">
        <div class="module-header">
            <span class="module-icon">â– </span>
            <div>
                <h3>ä¾‹3ï¼šæ•°å­—å¸¦é€šæ»¤æ³¢å™¨è®¾è®¡</h3>
                <div class="module-subtitle">Bandpass Filter â€” é€‰é¢‘åº”ç”¨</div>
            </div>
        </div>
        
        <div class="module-body">
            <div class="problem-specs">
                <strong>è®¾è®¡æŒ‡æ ‡ï¼š</strong>
                <ul>
                    <li>é‡‡æ ·é¢‘ç‡ $f_s = 10000$ Hz</li>
                    <li>é€šå¸¦èŒƒå›´ï¼š$f_{p1} = 1000$ Hz ~ $f_{p2} = 1500$ Hzï¼Œ$\alpha_p \leq 3$ dB</li>
                    <li>é˜»å¸¦èŒƒå›´ï¼š$f < 500$ Hz æˆ– $f > 2000$ Hzï¼Œ$\alpha_s \geq 20$ dB</li>
                </ul>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 1~3ï¼šé¢‘ç‡è½¬æ¢ä¸å¸¦é€šå‚æ•°è®¡ç®—</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <h4>é¢„ç•¸å˜ç»“æœï¼ˆc = 20000ï¼‰</h4>
                            $$\Omega_{p1} = 6498, \ \Omega_{p2} = 10328, \ \Omega_{s1} = 3168, \ \Omega_{s2} = 14531 \ \text{(rad/s)}$$
                        </div>
                        <div class="step-item">
                            <h4>å¸¦é€šå‚æ•°</h4>
                            <p><strong>å‡ ä½•ä¸­å¿ƒé¢‘ç‡ï¼š</strong>$\Omega_0 = \sqrt{\Omega_{p1} \times \Omega_{p2}} = \sqrt{6498 \times 10328} = \mathbf{8191}$ rad/s</p>
                            <p><strong>é€šå¸¦å¸¦å®½ï¼š</strong>$B_p = \Omega_{p2} - \Omega_{p1} = \mathbf{3830}$ rad/s</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 4ï¼šè½¬æ¢ä¸ºç­‰æ•ˆä½é€šåŸå‹æŒ‡æ ‡</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <p><span class="highlight">å¸¦é€šâ†’ä½é€šå˜æ¢å…¬å¼ï¼š</span>$\Omega_{LP} = \dfrac{\Omega^2 - \Omega_0^2}{B_p \cdot \Omega}$</p>
                            <p>è®¡ç®—é˜»å¸¦è¾¹ç•Œå¯¹åº”çš„ä½é€šé¢‘ç‡ï¼š</p>
                            $$\Omega_{LP,s1} = \frac{3168^2 - 8191^2}{3830 \times 3168} = -4.71, \quad \Omega_{LP,s2} = \frac{14531^2 - 8191^2}{3830 \times 14531} = 2.59$$
                            <p>é€‰æ‹©æ€§å‚æ•°ï¼š$\lambda = \min(4.71, 2.59) = \mathbf{2.59}$</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 5~8ï¼šé˜¶æ•°è®¡ç®—ä¸ç»“æœ</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <h4>é˜¶æ•°è®¡ç®—</h4>
                            $$N \geq \frac{\lg(99.5)}{2\lg(2.59)} = 2.42 \Rightarrow N = 3$$
                            <div class="warning-box">å¸¦é€šæ»¤æ³¢å™¨æœ€ç»ˆé˜¶æ•°æ˜¯ $2N = 6$ é˜¶ï¼ˆä½é€šâ†’å¸¦é€šå˜æ¢ä½¿é˜¶æ•°ç¿»å€ï¼‰</div>
                        </div>
                        <div class="result-box">
                            <strong>MATLABä»£ç ï¼š</strong><code>[b,a] = butter(3, [1000 1500]/5000, 'bandpass')</code><br>
                            ç»“æœä¸º6é˜¶æ•°å­—å¸¦é€šæ»¤æ³¢å™¨
                        </div>
                    </div>
                </div>
            </div>

            <div class="visualization-panel">
                <div class="viz-title">é¢‘ç‡å“åº”ä¸é›¶æç‚¹åˆ†å¸ƒ</div>
                <div class="chart-container">
                    <div class="chart-box">
                        <canvas id="bpMagCanvas"></canvas>
                        <div class="chart-label">å¹…é¢‘å“åº” |H(e<sup>jÏ‰</sup>)|</div>
                    </div>
                    <div class="chart-box">
                        <canvas id="bpPoleCanvas"></canvas>
                        <div class="chart-label">é›¶æç‚¹åˆ†å¸ƒï¼ˆé›¶ç‚¹åœ¨z=Â±1ï¼‰</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </section>

    <!-- ==================== ä¾‹4ï¼šå¸¦é˜»æ»¤æ³¢å™¨ ==================== -->
    <section id="ex-bs">
    <div class="filter-module module-bs">
        <div class="module-header">
            <span class="module-icon">â– </span>
            <div>
                <h3>ä¾‹4ï¼šæ•°å­—å¸¦é˜»æ»¤æ³¢å™¨è®¾è®¡</h3>
                <div class="module-subtitle">Bandstop/Notch Filter â€” 50Hzå·¥é¢‘å¹²æ‰°æ¶ˆé™¤</div>
            </div>
        </div>
        
        <div class="module-body">
            <div class="problem-specs">
                <strong>è®¾è®¡æŒ‡æ ‡ï¼š</strong>
                <ul>
                    <li>é‡‡æ ·é¢‘ç‡ $f_s = 1000$ Hz</li>
                    <li>é˜»å¸¦èŒƒå›´ï¼š$f_{s1} = 45$ Hz ~ $f_{s2} = 55$ Hzï¼Œ$\alpha_s \geq 20$ dB</li>
                    <li>é€šå¸¦èŒƒå›´ï¼š$f < 30$ Hz æˆ– $f > 70$ Hzï¼Œ$\alpha_p \leq 3$ dB</li>
                </ul>
                <p style="margin-top:10px;"><strong>åº”ç”¨åœºæ™¯ï¼š</strong>æ¶ˆé™¤ç”µç½‘50Hzå·¥é¢‘å¹²æ‰°</p>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 1~3ï¼šé¢‘ç‡è½¬æ¢ä¸å¸¦é˜»å‚æ•°è®¡ç®—</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <h4>é¢„ç•¸å˜ç»“æœï¼ˆc = 2000ï¼‰</h4>
                            $$\Omega_{s1} = 284.3, \ \Omega_{s2} = 348.3, \ \Omega_{p1} = 189.0, \ \Omega_{p2} = 445.0 \ \text{(rad/s)}$$
                        </div>
                        <div class="step-item">
                            <h4>å¸¦é˜»å‚æ•°</h4>
                            <p><strong>ä¸­å¿ƒé¢‘ç‡ï¼š</strong>$\Omega_0 = \sqrt{284.3 \times 348.3} = \mathbf{314.7}$ rad/sï¼ˆå¯¹åº”çº¦<span class="highlight">50Hz</span>ï¼‰</p>
                            <p><strong>é˜»å¸¦å¸¦å®½ï¼š</strong>$B_s = 348.3 - 284.3 = \mathbf{64.0}$ rad/s</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-header" onclick="toggleCalc(this)">
                    <span>Step 4ï¼šç­‰æ•ˆä½é€šæŒ‡æ ‡ä¸é˜¶æ•°è®¡ç®—</span>
                </div>
                <div class="calc-content">
                    <div class="calc-body">
                        <div class="step-item">
                            <p><span class="highlight">å¸¦é˜»â†’ä½é€šå˜æ¢å…¬å¼ï¼š</span>$\Omega_{LP} = \dfrac{B_s \cdot \Omega}{\Omega^2 - \Omega_0^2}$</p>
                            <p>é€šå¸¦è¾¹ç•Œï¼š$\Omega_{LP,p1} = -0.191$ï¼Œ$\Omega_{LP,p2} = 0.288$</p>
                            <p>é€‰æ‹©æ€§å‚æ•°ï¼š$\lambda = 1/\min(0.191, 0.288) = \mathbf{5.24}$</p>
                        </div>
                        <div class="step-item">
                            <h4>é˜¶æ•°è®¡ç®—</h4>
                            $$N \geq \frac{2.0}{1.438} = 1.39 \Rightarrow N = 2$$
                            <div class="warning-box">å¸¦é˜»æ»¤æ³¢å™¨æœ€ç»ˆé˜¶æ•°æ˜¯ $2N = 4$ é˜¶</div>
                        </div>
                        <div class="result-box">
                            <strong>MATLABä»£ç ï¼š</strong><code>[b,a] = butter(2, [45 55]/500, 'stop')</code><br>
                            ç»“æœä¸º4é˜¶æ•°å­—å¸¦é˜»æ»¤æ³¢å™¨ï¼Œåœ¨50Hzå¤„æœ‰æ·±åº¦é™·æ³¢
                        </div>
                        <div class="tip-box">
                            å¸¦é˜»æ»¤æ³¢å™¨çš„é›¶ç‚¹ä½äºå•ä½åœ†ä¸Šï¼Œå¯¹åº”é˜»å¸¦ä¸­å¿ƒé¢‘ç‡ $\omega_0 = 0.1\pi$ï¼Œå³ $z = e^{\pm j0.1\pi}$ã€‚
                        </div>
                    </div>
                </div>
            </div>

            <div class="visualization-panel">
                <div class="viz-title">é¢‘ç‡å“åº”ä¸é›¶æç‚¹åˆ†å¸ƒ</div>
                <div class="chart-container">
                    <div class="chart-box">
                        <canvas id="bsMagCanvas"></canvas>
                        <div class="chart-label">å¹…é¢‘å“åº”ï¼ˆ50Hzé™·æ³¢ï¼‰</div>
                    </div>
                    <div class="chart-box">
                        <canvas id="bsPoleCanvas"></canvas>
                        <div class="chart-label">é›¶æç‚¹åˆ†å¸ƒï¼ˆé›¶ç‚¹åœ¨å•ä½åœ†ä¸Šï¼‰</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </section>

    <hr>

    <!-- ==================== æ€»ç»“ ==================== -->
    <h2>å››ã€è®¾è®¡æ–¹æ³•æ€»ç»“</h2>

    <table>
        <tr>
            <th>æ»¤æ³¢å™¨ç±»å‹</th>
            <th>såŸŸå˜æ¢å…¬å¼</th>
            <th>é›¶ç‚¹ä½ç½®</th>
            <th>é˜¶æ•°å˜åŒ–</th>
            <th>ç‰¹å¾</th>
        </tr>
        <tr>
            <td><strong class="emp-blue">ä½é€š (LP)</strong></td>
            <td>$s \to s/\Omega_c$</td>
            <td>æ— æˆ–é«˜é¢‘</td>
            <td>$N \to N$</td>
            <td>ä¿ç•™ä½é¢‘</td>
        </tr>
        <tr>
            <td><strong class="emp-green">é«˜é€š (HP)</strong></td>
            <td>$s \to \Omega_c/s$</td>
            <td>$z = 1$</td>
            <td>$N \to N$</td>
            <td>ä¿ç•™é«˜é¢‘</td>
        </tr>
        <tr>
            <td><strong class="emp-gold">å¸¦é€š (BP)</strong></td>
            <td>$s \to \frac{s^2+\Omega_0^2}{Bs}$</td>
            <td>$z = \pm 1$</td>
            <td>$N \to 2N$</td>
            <td>é€‰å–ç‰¹å®šé¢‘æ®µ</td>
        </tr>
        <tr>
            <td><strong class="emp-purple">å¸¦é˜» (BS)</strong></td>
            <td>$s \to \frac{Bs}{s^2+\Omega_0^2}$</td>
            <td>$z = e^{\pm j\omega_0}$</td>
            <td>$N \to 2N$</td>
            <td>æŠ‘åˆ¶ç‰¹å®šé¢‘æ®µ</td>
        </tr>
    </table>

    <h3>MATLABå¿«é€Ÿè®¾è®¡ä»£ç </h3>
    <div class="code-block">
<span class="comment">% Butterworthæ»¤æ³¢å™¨è®¾è®¡</span>
[b,a] = butter(N, Wn, 'low');       <span class="comment">% ä½é€š</span>
[b,a] = butter(N, Wn, 'high');      <span class="comment">% é«˜é€š</span>
[b,a] = butter(N, [Wn1 Wn2], 'bandpass');  <span class="comment">% å¸¦é€š</span>
[b,a] = butter(N, [Wn1 Wn2], 'stop');      <span class="comment">% å¸¦é˜»</span>

<span class="comment">% Wn = f_cutoff / (fs/2)ï¼Œå½’ä¸€åŒ–é¢‘ç‡ï¼ŒèŒƒå›´ (0, 1)</span>
<span class="comment">% ä½¿ç”¨ freqz(b,a) ç»˜åˆ¶é¢‘ç‡å“åº”éªŒè¯è®¾è®¡</span>
    </div>

    <div class="intro-box" style="margin-top:30px;">
        <h4 style="margin-top:0;">å­¦ä¹ è¦ç‚¹æ€»ç»“</h4>
        <ol>
            <li><strong>æŒæ¡5æ­¥è®¾è®¡æµç¨‹</strong>ï¼šç†è§£æ¯ä¸€æ­¥çš„ç‰©ç†æ„ä¹‰å’Œæ•°å­¦å˜æ¢</li>
            <li><strong>é¢‘ç‡é¢„ç•¸å˜æ˜¯æ ¸å¿ƒ</strong>ï¼šè¿™æ˜¯åŒçº¿æ€§å˜æ¢æ³•é¿å…é¢‘ç‡æ··å çš„å…³é”®</li>
            <li><strong>å¸¦é€š/å¸¦é˜»è®¾è®¡è¦ç‚¹</strong>ï¼šæ­£ç¡®è®¡ç®—å‡ ä½•ä¸­å¿ƒé¢‘ç‡ $\Omega_0$ å’Œå¸¦å®½ $B$ï¼Œæ³¨æ„é˜¶æ•°ç¿»å€</li>
            <li><strong>è®¾è®¡åéªŒè¯</strong>ï¼šä½¿ç”¨ <code>freqz</code> å‡½æ•°æ£€æŸ¥é¢‘ç‡å“åº”æ˜¯å¦æ»¡è¶³æŒ‡æ ‡è¦æ±‚</li>
        </ol>
    </div>

</div>

<!-- ==================== JavaScript ==================== -->
<script>
// æŠ˜å é¢æ¿åˆ‡æ¢
function toggleCalc(header) {
    const section = header.parentElement;
    section.classList.toggle('active');
}

// é¢œè‰²é…ç½®ï¼ˆç§‘å­¦é…è‰²ï¼‰
const colors = {
    lowpass: '#1a5276',
    highpass: '#1e8449',
    bandpass: '#b9770e',
    bandstop: '#6c3483',
    grid: '#d5d8dc',
    axis: '#2c3e50',
    pole: '#c0392b',
    zero: '#27ae60'
};

// è®¡ç®—å¹…åº¦å“åº”
function calcMag(type, order, wc, bw, omega) {
    const eps = 0.001;
    let mag;
    
    if(type === 'lowpass') {
        mag = 1 / Math.sqrt(1 + Math.pow(omega / (wc + eps), 2 * order));
    } else if(type === 'highpass') {
        mag = 1 / Math.sqrt(1 + Math.pow((wc + eps) / (omega + eps), 2 * order));
    } else if(type === 'bandpass') {
        const w1 = Math.max(0.01, wc - bw/2);
        const w2 = Math.min(Math.PI - 0.01, wc + bw/2);
        if(omega < w1 || omega > w2) {
            const d = Math.min(Math.abs(omega - w1), Math.abs(omega - w2));
            mag = 1 / Math.sqrt(1 + Math.pow(d / (bw/4 + eps), 2 * order));
        } else {
            mag = 1;
        }
    } else {
        const w1 = Math.max(0.01, wc - bw/2);
        const w2 = Math.min(Math.PI - 0.01, wc + bw/2);
        if(omega > w1 && omega < w2) {
            const d = Math.min(Math.abs(omega - w1), Math.abs(omega - w2));
            mag = 1 / Math.sqrt(1 + Math.pow((bw/4 + eps) / (d + eps), 2 * order));
        } else {
            mag = 1;
        }
    }
    return Math.min(1, Math.max(0, mag));
}

// ç»˜åˆ¶å¹…é¢‘å“åº”
function drawMag(id, type, order, cutoff, bw) {
    const canvas = document.getElementById(id);
    if(!canvas) return;
    
    const ctx = canvas.getContext('2d');
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    const W = rect.width, H = rect.height;
    
    const pad = 40, plotW = W - 2*pad, plotH = H - 2*pad;
    
    // èƒŒæ™¯
    ctx.fillStyle = '#fafafa';
    ctx.fillRect(pad, pad, plotW, plotH);
    
    // é€šå¸¦åŒºåŸŸ
    ctx.globalAlpha = 0.15;
    ctx.fillStyle = colors[type];
    if(type === 'lowpass') {
        ctx.fillRect(pad, pad, cutoff * plotW, plotH);
    } else if(type === 'highpass') {
        ctx.fillRect(pad + cutoff * plotW, pad, (1 - cutoff) * plotW, plotH);
    } else if(type === 'bandpass') {
        const w1 = Math.max(0, cutoff - bw), w2 = Math.min(1, cutoff + bw);
        ctx.fillRect(pad + w1 * plotW, pad, (w2 - w1) * plotW, plotH);
    } else {
        ctx.fillStyle = colors.pole;
        ctx.fillRect(pad + (cutoff - bw/2) * plotW, pad, bw * plotW, plotH);
    }
    ctx.globalAlpha = 1;
    
    // ç½‘æ ¼
    ctx.strokeStyle = colors.grid;
    ctx.lineWidth = 0.5;
    for(let i = 0; i <= 5; i++) {
        ctx.beginPath();
        ctx.moveTo(pad + i*plotW/5, pad);
        ctx.lineTo(pad + i*plotW/5, H - pad);
        ctx.moveTo(pad, pad + i*plotH/5);
        ctx.lineTo(W - pad, pad + i*plotH/5);
        ctx.stroke();
    }
    
    // æ›²çº¿
    ctx.strokeStyle = colors[type];
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    for(let i = 0; i <= 200; i++) {
        const omega = i / 200 * Math.PI;
        const mag = calcMag(type, order, cutoff * Math.PI, bw * 2 * Math.PI, omega);
        const x = pad + (i / 200) * plotW;
        const y = pad + (1 - mag) * plotH;
        i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    }
    ctx.stroke();
    
    // åæ ‡è½´
    ctx.strokeStyle = colors.axis;
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(pad, pad);
    ctx.lineTo(pad, H - pad);
    ctx.lineTo(W - pad, H - pad);
    ctx.stroke();
    
    // æ ‡ç­¾
    ctx.fillStyle = colors.axis;
    ctx.font = '11px sans-serif';
    ctx.fillText('1', pad - 12, pad + 4);
    ctx.fillText('0', pad - 12, H - pad + 4);
    ctx.fillText('0', pad - 3, H - pad + 14);
    ctx.fillText('Ï€', W - pad - 3, H - pad + 14);
}

// ç»˜åˆ¶é›¶æç‚¹å›¾ï¼ˆä¿®æ­£ç‰ˆï¼šButterworthæç‚¹å…³äºå®è½´å¯¹ç§°ï¼‰
function drawPZ(id, type, order) {
    const canvas = document.getElementById(id);
    if(!canvas) return;
    
    const ctx = canvas.getContext('2d');
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    const W = rect.width, H = rect.height;
    
    const cx = W/2, cy = H/2, r = Math.min(W, H)/2 - 30;
    
    // å•ä½åœ†
    ctx.strokeStyle = colors[type];
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, r, 0, 2*Math.PI);
    ctx.stroke();
    
    // åæ ‡è½´
    ctx.strokeStyle = colors.grid;
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(cx - r - 15, cy);
    ctx.lineTo(cx + r + 15, cy);
    ctx.moveTo(cx, cy - r - 15);
    ctx.lineTo(cx, cy + r + 15);
    ctx.stroke();
    
    // è½´æ ‡ç­¾
    ctx.fillStyle = '#7f8c8d';
    ctx.font = '11px sans-serif';
    ctx.fillText('Re', W - 25, cy - 5);
    ctx.fillText('Im', cx + 5, 18);
    
    // è®¡ç®—Butterworthæç‚¹ï¼ˆzå¹³é¢ï¼Œå…³äºå®è½´å¯¹ç§°ï¼‰
    // å¯¹äºæ•°å­—æ»¤æ³¢å™¨ï¼Œæç‚¹åœ¨å•ä½åœ†å†…ï¼Œå…³äºå®è½´å…±è½­å¯¹ç§°
    const poles = [];
    const poleRadius = 0.75; // æç‚¹åˆ°åŸç‚¹çš„è·ç¦»ï¼ˆç¨³å®šæ»¤æ³¢å™¨ < 1ï¼‰
    
    // æ ¹æ®æ»¤æ³¢å™¨ç±»å‹å’Œé˜¶æ•°ç”Ÿæˆæç‚¹
    if(type === 'lowpass' || type === 'highpass') {
        // Né˜¶Butterworthæç‚¹å‡åŒ€åˆ†å¸ƒï¼Œå…³äºå®è½´å¯¹ç§°
        for(let k = 0; k < order; k++) {
            // æç‚¹è§’åº¦ï¼šä»Ï€/2å¼€å§‹ï¼Œåœ¨å·¦åŠå¹³é¢å‡åŒ€åˆ†å¸ƒ
            const theta = Math.PI/2 + Math.PI * (2*k + 1) / (2 * order);
            // åªå–å·¦åŠå¹³é¢çš„æç‚¹ï¼ˆå®éƒ¨ä¸ºè´Ÿï¼‰ï¼Œç„¶åæ˜ å°„åˆ°zå¹³é¢ååœ¨å•ä½åœ†å†…
            const re = poleRadius * Math.cos(theta);
            const im = poleRadius * Math.sin(theta);
            poles.push({re: re, im: im});
        }
    } else {
        // å¸¦é€š/å¸¦é˜»ï¼šæç‚¹æˆå¯¹å‡ºç°ï¼Œåˆ†å¸ƒæ›´å¤æ‚
        const halfOrder = Math.floor(order / 2);
        for(let k = 0; k < halfOrder; k++) {
            const theta = Math.PI/2 + Math.PI * (2*k + 1) / (2 * halfOrder);
            const baseRadius = 0.65 + 0.1 * k / halfOrder;
            // ä¸ŠåŠå¹³é¢æç‚¹
            poles.push({re: baseRadius * Math.cos(theta + 0.3), im: baseRadius * Math.sin(theta + 0.3)});
            // ä¸‹åŠå¹³é¢å…±è½­æç‚¹ï¼ˆå…³äºå®è½´å¯¹ç§°ï¼‰
            poles.push({re: baseRadius * Math.cos(theta + 0.3), im: -baseRadius * Math.sin(theta + 0.3)});
        }
    }
    
    // ç»˜åˆ¶æç‚¹ (Ã—)
    ctx.strokeStyle = colors.pole;
    ctx.lineWidth = 2;
    poles.forEach(p => {
        const px = cx + p.re * r;
        const py = cy - p.im * r; // æ³¨æ„ï¼šcanvasçš„yè½´å‘ä¸‹ï¼Œæ‰€ä»¥è¦å–è´Ÿ
        ctx.beginPath();
        ctx.moveTo(px - 5, py - 5);
        ctx.lineTo(px + 5, py + 5);
        ctx.moveTo(px + 5, py - 5);
        ctx.lineTo(px - 5, py + 5);
        ctx.stroke();
    });
    
    // ç»˜åˆ¶é›¶ç‚¹ (â—‹)
    ctx.strokeStyle = colors.zero;
    ctx.lineWidth = 2;
    
    if(type === 'lowpass') {
        // ä½é€šï¼šé›¶ç‚¹åœ¨z=-1ï¼ˆé«˜é¢‘å¤„ï¼‰æˆ–æ— ç©·è¿œ
        // å¯¹äºæ ‡å‡†Butterworthä½é€šï¼Œé›¶ç‚¹åœ¨z=-1
        ctx.beginPath();
        ctx.arc(cx - r, cy, 5, 0, 2*Math.PI);
        ctx.stroke();
    } else if(type === 'highpass') {
        // é«˜é€šï¼šNä¸ªé›¶ç‚¹éƒ½åœ¨z=1ï¼ˆç›´æµå¤„ï¼‰
        ctx.beginPath();
        ctx.arc(cx + r, cy, 6, 0, 2*Math.PI);
        ctx.stroke();
        // æ ‡æ³¨é‡æ•°
        ctx.fillStyle = colors.zero;
        ctx.font = '10px sans-serif';
        ctx.fillText('(' + order + 'é‡)', cx + r - 10, cy + 18);
    } else if(type === 'bandpass') {
        // å¸¦é€šï¼šé›¶ç‚¹åœ¨z=1å’Œz=-1
        ctx.beginPath();
        ctx.arc(cx + r, cy, 5, 0, 2*Math.PI);
        ctx.stroke();
        ctx.beginPath();
        ctx.arc(cx - r, cy, 5, 0, 2*Math.PI);
        ctx.stroke();
    } else if(type === 'bandstop') {
        // å¸¦é˜»ï¼šé›¶ç‚¹åœ¨å•ä½åœ†ä¸Šï¼Œå¯¹åº”é™·æ³¢é¢‘ç‡ï¼Œå…±è½­å¯¹ç§°
        const w0 = 0.1 * Math.PI; // 50Hzå¯¹åº”çš„æ•°å­—é¢‘ç‡
        // ä¸ŠåŠåœ†é›¶ç‚¹
        ctx.beginPath();
        ctx.arc(cx + r*Math.cos(w0), cy - r*Math.sin(w0), 5, 0, 2*Math.PI);
        ctx.stroke();
        // ä¸‹åŠåœ†å…±è½­é›¶ç‚¹ï¼ˆå…³äºå®è½´å¯¹ç§°ï¼‰
        ctx.beginPath();
        ctx.arc(cx + r*Math.cos(w0), cy + r*Math.sin(w0), 5, 0, 2*Math.PI);
        ctx.stroke();
    }
    
    // å›¾ä¾‹
    ctx.font = '10px sans-serif';
    ctx.fillStyle = colors.pole;
    ctx.fillText('Ã— æç‚¹', 8, 14);
    ctx.fillStyle = colors.zero;
    ctx.fillText('â—‹ é›¶ç‚¹', 8, 26);
}

// ç»˜åˆ¶æ‰€æœ‰å›¾è¡¨
function drawAll() {
    drawMag('lpMagCanvas', 'lowpass', 3, 0.2, 0.1);
    drawPZ('lpPoleCanvas', 'lowpass', 3);
    
    drawMag('hpMagCanvas', 'highpass', 4, 0.375, 0.1);
    drawPZ('hpPoleCanvas', 'highpass', 4);
    
    drawMag('bpMagCanvas', 'bandpass', 3, 0.25, 0.1);
    drawPZ('bpPoleCanvas', 'bandpass', 6);
    
    drawMag('bsMagCanvas', 'bandstop', 2, 0.1, 0.05);
    drawPZ('bsPoleCanvas', 'bandstop', 4);
}

window.addEventListener('load', drawAll);
window.addEventListener('resize', drawAll);
</script>

</body>
</html>
