<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çª—å‡½æ•°æ³• FIR æ»¤æ³¢å™¨è®¾è®¡ä¹ é¢˜</title>
    
    <!-- å¼•å…¥ MathJax ç”¨äºæ¸²æŸ“æ•°å­¦å…¬å¼ -->
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        body {
            font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 40px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            display: inline-block;
        }
        
        .header-wrapper { text-align: center; }

        .problem-card {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            padding: 30px;
            margin-bottom: 35px;
            border-left: 6px solid #6c5ce7; /* ç´«è‰²è°ƒ */
        }

        .problem-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #4e4376;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .problem-content {
            font-size: 1.05rem;
            margin-bottom: 20px;
        }

        .btn-toggle {
            background-color: #0984e3;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
        }

        .btn-toggle:hover {
            background-color: #74b9ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .answer-box {
            display: none; /* é»˜è®¤éšè— */
            margin-top: 25px;
            background-color: #fafafa;
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            padding: 25px;
        }

        h3 {
            margin-top: 0;
            color: #2d3436;
        }

        .answer-step {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #ccc;
        }
        
        .answer-step:last-child {
            border-bottom: none;
        }

        .highlight {
            color: #d63031;
            font-weight: bold;
            background-color: #ffeaa7;
            padding: 2px 5px;
            border-radius: 3px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header-wrapper">
        <h1>çª—å‡½æ•°æ³• FIR æ»¤æ³¢å™¨è®¾è®¡ç»ƒä¹ </h1>
    </div>

    <!-- é¢˜ç›® 1ï¼šä½é€šæ»¤æ³¢å™¨è®¾è®¡ -->
    <div class="problem-card">
        <div class="problem-title">é¢˜ç›® 1ï¼šçŸ©å½¢çª—è®¾è®¡çº¿æ€§ç›¸ä½ä½é€š FIR DF</div>
        <div class="problem-content">
            <p><strong>è¦æ±‚ï¼š</strong>è¿‡æ¸¡å¸¦å®½åº¦ä¸è¶…è¿‡ $\pi/8$ radã€‚</p>
            <p><strong>é€¼è¿‘ç›®æ ‡ï¼š</strong>ç†æƒ³ä½é€šæ»¤æ³¢å™¨é¢‘ç‡å“åº”å‡½æ•° $H_d(e^{j\omega})$ ä¸ºï¼š</p>
            $$ H_d(e^{j\omega}) = \begin{cases} e^{-j\omega\tau}, & 0 \le |\omega| \le \omega_c \\ 0, & \omega_c < |\omega| \le \pi \end{cases} $$
            <ol style="list-style-type: lower-tau;">
                <li>æ±‚ç†æƒ³ä½é€šæ»¤æ³¢å™¨çš„å•ä½è„‰å†²å“åº” $h_d[n]$ï¼›</li>
                <li>æ±‚å‡ºåŠ çŸ©å½¢çª—è®¾è®¡çš„ä½é€š FIR DF çš„å•ä½è„‰å†²å“åº” $h[n]$ è¡¨è¾¾å¼ï¼Œå¹¶ç¡®å®š $\tau$ ä¸ $N$ ä¹‹é—´çš„å…³ç³»ï¼›</li>
                <li>ç®€è¿° $N$ å–å¥‡æ•°æˆ–è€…å¶æ•°å¯¹æ»¤æ³¢ç‰¹æ€§çš„å½±å“ã€‚</li>
            </ol>
        </div>
        <button class="btn-toggle" onclick="toggleAnswer('ans1')">ğŸ‘ï¸ æ˜¾ç¤º / éšè— è¯¦ç»†è§£ç­”</button>
        
        <div id="ans1" class="answer-box">
            <h3>è¯¦ç»†è§£ç­”ï¼š</h3>
            
            <div class="answer-step">
                <h4>(a) æ±‚ç†æƒ³å•ä½è„‰å†²å“åº” $h_d[n]$</h4>
                <p>å¯¹ $H_d(e^{j\omega})$ è¿›è¡Œç¦»æ•£æ—¶é—´å‚…é‡Œå¶é€†å˜æ¢ (IDTFT)ï¼š</p>
                $$ \begin{aligned} h_d[n] &= \frac{1}{2\pi} \int_{-\pi}^{\pi} H_d(e^{j\omega}) e^{j\omega n} d\omega \\ &= \frac{1}{2\pi} \int_{-\omega_c}^{\omega_c} e^{-j\omega\tau} e^{j\omega n} d\omega \\ &= \frac{1}{2\pi} \int_{-\omega_c}^{\omega_c} e^{j\omega(n-\tau)} d\omega \\ &= \frac{\sin[\omega_c(n-\tau)]}{\pi(n-\tau)} \end{aligned} $$
            </div>

            <div class="answer-step">
                <h4>(b) æ±‚å®é™…å“åº” $h[n]$ åŠå‚æ•°å…³ç³»</h4>
                <p><strong>1. ç¡®å®šé•¿åº¦ $N$ï¼š</strong></p>
                <p>çŸ©å½¢çª—çš„è¿‡æ¸¡å¸¦å®½åº¦è¿‘ä¼¼å…¬å¼ä¸º $\Delta\omega \approx \frac{4\pi}{N}$ã€‚</p>
                <p>æ ¹æ®é¢˜ç›®è¦æ±‚ $\Delta\omega \le \frac{\pi}{8}$ï¼š</p>
                $$ \frac{4\pi}{N} \le \frac{\pi}{8} \implies N \ge 32 $$
                <p><strong>2. ç¡®å®š $\tau$ï¼š</strong></p>
                <p>ä¸ºäº†ä¿è¯çº¿æ€§ç›¸ä½ï¼Œå¯¹ç§°ä¸­å¿ƒå¿…é¡»ä½äºåºåˆ—ä¸­å¿ƒï¼Œå³ï¼š<span class="highlight">$\tau = \frac{N-1}{2}$</span>ã€‚</p>
                <p><strong>3. æ±‚ $h[n]$ è¡¨è¾¾å¼ï¼š</strong></p>
                <p>åŠ çŸ©å½¢çª— $w[n] = R_N[n]$ (å³ $0 \le n \le N-1$ æ—¶ä¸º 1ï¼Œå¦åˆ™ä¸º 0)ï¼š</p>
                $$ h[n] = h_d[n] \cdot w[n] = \frac{\sin[\omega_c(n-\frac{N-1}{2})]}{\pi(n-\frac{N-1}{2})}, \quad 0 \le n \le N-1 $$
            </div>

            <div class="answer-step">
                <h4>(c) $N$ å–å¥‡å¶çš„å½±å“</h4>
                <ul>
                    <li><strong>å½“ $N$ ä¸ºå¥‡æ•°æ—¶ï¼š</strong> å¯¹ç§°ä¸­å¿ƒ $\tau = (N-1)/2$ æ˜¯æ•´æ•°ã€‚è¿™å±äº <strong>Type I</strong> çº¿æ€§ç›¸ä½ FIRï¼Œå…¶é¢‘ç‡å“åº”åœ¨ $\omega=\pi$ å¤„æ²¡æœ‰å¼ºåˆ¶é›¶ç‚¹ï¼Œé€‚åˆè®¾è®¡å„ç§æ»¤æ³¢å™¨ï¼ˆåŒ…æ‹¬ä½é€šã€é«˜é€šï¼‰ã€‚</li>
                    <li><strong>å½“ $N$ ä¸ºå¶æ•°æ—¶ï¼š</strong> å¯¹ç§°ä¸­å¿ƒ $\tau$ æ˜¯åŠæ•´æ•°ã€‚è¿™å±äº <strong>Type II</strong> çº¿æ€§ç›¸ä½ FIRã€‚å…¶ç‰¹æ€§æ˜¯ <span class="highlight">$H(e^{j\pi}) = 0$</span>ã€‚å¯¹äº<strong>ä½é€šæ»¤æ³¢å™¨</strong>æ¥è¯´ï¼Œé«˜é¢‘ç«¯ $\omega=\pi$ æœ¬æ¥å°±éœ€è¦æˆªæ­¢ï¼Œæ‰€ä»¥ Type II å¯ä»¥ç”¨äºä½é€šè®¾è®¡ï¼Œé€šå¸¸æ²¡æœ‰è´Ÿé¢å½±å“ã€‚</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- é¢˜ç›® 2ï¼šé«˜é€šæ»¤æ³¢å™¨è®¾è®¡ -->
    <div class="problem-card">
        <div class="problem-title">é¢˜ç›® 2ï¼šçŸ©å½¢çª—è®¾è®¡çº¿æ€§ç›¸ä½é«˜é€š FIR DF</div>
        <div class="problem-content">
            <p><strong>è¦æ±‚ï¼š</strong>è¿‡æ¸¡å¸¦å®½åº¦ä¸è¶…è¿‡ $\pi/10$ radã€‚</p>
            <p><strong>é€¼è¿‘ç›®æ ‡ï¼š</strong>ç†æƒ³é«˜é€šæ»¤æ³¢å™¨é¢‘ç‡å“åº”å‡½æ•° $H_d(e^{j\omega})$ ä¸ºï¼š</p>
            $$ H_d(e^{j\omega}) = \begin{cases} e^{-j\omega\tau}, & \omega_c \le |\omega| \le \pi \\ 0, & \text{å…¶ä»–} \end{cases} $$
            <ol style="list-style-type: lower-tau;">
                <li>æ±‚å‡ºè¯¥ç†æƒ³é«˜é€šçš„å•ä½è„‰å†²å“åº” $h_d[n]$ï¼›</li>
                <li>æ±‚å‡ºçŸ©å½¢çª—è®¾è®¡çš„é«˜é€š FIR DF çš„å•ä½è„‰å†²å“åº” $h[n]$ è¡¨è¾¾å¼ï¼Œç¡®å®š $\tau$ ä¸ $N$ ä¹‹é—´çš„å…³ç³»ï¼›</li>
                <li>$N$ çš„å–å€¼æœ‰ä»€ä¹ˆé™åˆ¶ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li>
            </ol>
        </div>
        <button class="btn-toggle" onclick="toggleAnswer('ans2')">ğŸ‘ï¸ æ˜¾ç¤º / éšè— è¯¦ç»†è§£ç­”</button>

        <div id="ans2" class="answer-box">
            <h3>è¯¦ç»†è§£ç­”ï¼š</h3>
            
            <div class="answer-step">
                <h4>(a) æ±‚ç†æƒ³å•ä½è„‰å†²å“åº” $h_d[n]$</h4>
                <p>åˆ©ç”¨çº¿æ€§æ€§è´¨ï¼Œç†æƒ³é«˜é€š = å…¨é€š - ç†æƒ³ä½é€šã€‚</p>
                <p>å…¨é€šæ»¤æ³¢å™¨çš„è„‰å†²å“åº”ä¸º $\delta[n-\tau]$ï¼Œç†æƒ³ä½é€šï¼ˆæˆªæ­¢é¢‘ç‡ $\omega_c$ï¼‰å¦‚é¢˜ç›®1æ‰€ç¤ºã€‚</p>
                <p>å› æ­¤ï¼Œç†æƒ³é«˜é€šçš„ $h_d[n]$ ä¸ºï¼š</p>
                $$ h_d[n] = \frac{\sin[\pi(n-\tau)]}{\pi(n-\tau)} - \frac{\sin[\omega_c(n-\tau)]}{\pi(n-\tau)} $$
                <p>æˆ–è€…åˆ©ç”¨ sinc å‡½æ•°è¡¨ç¤ºï¼ˆæ³¨æ„ $\frac{\sin(\pi x)}{\pi x}$ åœ¨ç¦»æ•£æ•´æ•°ç‚¹å¯¹åº” $\delta$ï¼‰ï¼š</p>
                $$ h_d[n] = \delta[n-\tau] - \frac{\sin[\omega_c(n-\tau)]}{\pi(n-\tau)} $$
                <p><em>(æ³¨ï¼šè¿™æ˜¯å»ºç«‹åœ¨ $\tau$ ä¸ºæ•´æ•°å³ $N$ ä¸ºå¥‡æ•°çš„å‰æä¸‹ï¼Œå¦‚æœæ˜¯åˆ†æ•°å»¶è¿Ÿç³»ç»Ÿï¼Œç¬¬ä¸€ç§ç§¯åˆ†å½¢å¼æ›´é€šç”¨)</em></p>
            </div>

            <div class="answer-step">
                <h4>(b) æ±‚å®é™…å“åº” $h[n]$ åŠå‚æ•°å…³ç³»</h4>
                <p><strong>1. ç¡®å®šé•¿åº¦ $N$ï¼š</strong></p>
                <p>æ ¹æ®çŸ©å½¢çª—è¿‡æ¸¡å¸¦å…¬å¼ $\Delta\omega \approx \frac{4\pi}{N}$ï¼š</p>
                $$ \frac{4\pi}{N} \le \frac{\pi}{10} \implies N \ge 40 $$
                <p><strong>2. ç¡®å®š $\tau$ï¼š</strong></p>
                <p>çº¿æ€§ç›¸ä½æ¡ä»¶ï¼š<span class="highlight">$\tau = \frac{N-1}{2}$</span>ã€‚</p>
                <p><strong>3. æ±‚ $h[n]$ è¡¨è¾¾å¼ï¼š</strong></p>
                $$ h[n] = \left( \delta[n-\tau] - \frac{\sin[\omega_c(n-\tau)]}{\pi(n-\tau)} \right) \cdot R_N[n] $$
            </div>

            <div class="answer-step">
                <h4>(c) $N$ å–å€¼çš„é™åˆ¶åŠåŸå› </h4>
                <p><strong>é™åˆ¶ï¼š</strong> <span class="highlight">$N$ å¿…é¡»å–å¥‡æ•°</span>ã€‚</p>
                <p><strong>åŸå› ï¼š</strong></p>
                <ul>
                    <li>FIR æ»¤æ³¢å™¨è®¾è®¡ä¸ºé«˜é€šï¼Œæ„å‘³ç€åœ¨é«˜é¢‘ç«¯ $\omega=\pi$ å¤„ï¼Œé¢‘ç‡å“åº” $|H(e^{j\pi})|$ åº”è¯¥æ¯”è¾ƒå¤§ï¼ˆé€šå¸¦ï¼‰ï¼Œä¸èƒ½ä¸º 0ã€‚</li>
                    <li>å¦‚æœ $N$ å–<strong>å¶æ•°</strong>ä¸”ä¸ºå¶å¯¹ç§°ï¼ˆçº¿æ€§ç›¸ä½æ¡ä»¶ï¼‰ï¼Œåˆ™æ„æˆäº† <strong>Type II</strong> æ»¤æ³¢å™¨ã€‚Type II æ»¤æ³¢å™¨ç”±å…¶å¯¹ç§°æ€§å†³å®šäº† <span class="highlight">å¿…ç„¶æœ‰ $H(e^{j\pi}) = 0$</span>ã€‚</li>
                    <li>è¿™ç›´æ¥è¿èƒŒäº†é«˜é€šæ»¤æ³¢å™¨çš„è®¾è®¡åˆè¡·ï¼ˆé«˜é¢‘è¢«å¼ºåˆ¶æˆªæ­¢äº†ï¼‰ã€‚å› æ­¤ï¼Œè®¾è®¡çº¿æ€§ç›¸ä½é«˜é€šæ»¤æ³¢å™¨æ—¶ï¼Œå¿…é¡»é€‰æ‹© <strong>Type I</strong>ï¼Œå³ $N$ å¿…é¡»ä¸ºå¥‡æ•°ã€‚</li>
                    <li>åœ¨æœ¬é¢˜ä¸­ï¼Œè™½ç„¶è®¡ç®—å‡º $N \ge 40$ï¼Œä½†å¿…é¡»å– $N=41$ (æˆ–æ›´å¤§å¥‡æ•°)ã€‚</li>
                </ul>
            </div>
        </div>
    </div>

</div>

<script>
    function toggleAnswer(id) {
        var x = document.getElementById(id);
        if (x.style.display === "block") {
            x.style.display = "none";
        } else {
            x.style.display = "block";
        }
    }
</script>

</body>
</html>
